
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>GeeKhmer</title>
  <meta name="author" content="Bunlong Van">
  
  
  <meta name="description" content="The biggest website of computer programming, Ruby, Ruby on Rails, Erlang, Chicagoboss and Javascript in Southeast Asia.">

  <meta name="keywords" content="geekhmer,khmer,cambodia,geek khmer,khmer geek,geek cambodia,cambodia geek,hacker,khmer hacker,hacker khmer,hacking,coding,programming,testing,Ruby,Ruby khmer,khmer Ruby,Rubyist,khmer Rubyist,Rubyist khmer,Rubyist cambodia,cambodia Rubyist,Ruby on Rails,Ruby on Rails khmer,khmer Ruby on Rails,Cambodia Ruby,Ruby Cambodia,Cambodia Ruby on Rails,Ruby on Rails Cambodia,RSpec TDD,RSpec BDD,facebook,computer general,networking,Chicagoboss,erlang,Erlang,Khmer Chicagoboss, Chicagoboss Khmer,Cambodia Chicagoboss,Chicagoboss Cambodia,Khmer Erlang,Erlang Khmer,Cambodia Erlang, Erlang Cambodia, Ruby southeast asia, Ruby on Rails southeast asia">

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://geekhmer.github.io/blog/page/9">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="" rel="alternate" title="GeeKhmer" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/lib/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

<link href="/stylesheets/jquery.fancybox.css" media="screen, projection" rel="stylesheet" type="text/css">
<script src="/javascripts/libs/jquery.fancybox.pack.js"></script>
<script src="/javascripts/init_fancybox.js"></script>

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1>
    <!-- <a href="/">GeeKhmer</a> -->
    <div class="logo" />
  </h1>
  
</hgroup>

</header>
  <nav role="navigation">
  <form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:geekhmer.github.io" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
  </form>

<ul class="subscription" data-subscription="rss">
  
  
</ul>
<ul class="main-navigation">
  <li><a href="/">Home</a></li>
  <li><a href="/blog/archives">Articles</a></li>
  <li><a href="/about">About</a></li>
  <li><a href="/team">Team</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/01/28/chicagoboss-installation/">ChicagoBoss Installation</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2015-01-28T22:52:00+07:00" pubdate data-updated="true">Jan 28<span>th</span>, 2015</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>
  <img src="/images/logo_chicagoboss.svg" alt="ChicagoBoss Installation" />
</p>




<p>
  <h3>Overview</h3>
</p>




<p>
  In software development, using a framework is almost a rule for fast, clean, easy readable and standardized coding. Chicago Boss (<a href="http://www.chicagoboss.org/" target="_blank">http://www.chicagoboss.org</a>)is a framework that is heavily inspired by Rails. Set up and use Chicago Boss is easy as falling off a log. Chicago Boss allows you to code with the aforementioned standards in Erlang. Plus, offers conveniences of modern web development, including WebSocket and Comet. Basic features of Chicago Boss listed below:<br/>
  - 100% asynchronous I/O<br/>
  - Support for Erlang and Elixir code<br/>
  - BossDB: Database connection layer with an advanced ORM which with built-in support for Mnesia, MongoDB, MySQL, PostgreSQL, Riak and Tokyo Tyrant<br/>
  - BossCache: Database caching layer<br/>
  - BossMQ: Cluster–wide, channel–based message queue<br/>
  - BossRouter: URL router<br/>
  - BossSession: Session storage layer<br/>
  - BossNews: Event listener, model event system<br/>
  - BossMail: Built-in email server<br/>
  - Django and Jade template support<br/>
  - Very clean controllers as result of pattern matching<br/>
  - Auto document generation for models<br/>
  - An useful admin interface<br/>
  - Automatic code reloading
</p>




<p>
  <img src="/images/hand_chicagoboss.png" alt="ChicagoBoss Installation" width="200" />
</p>




<p>
  <h3>Installation</h3>
</p>




<p>
  This short guide will help you get Chicago Boss installed and working on your system. Chicago Boss generally isn’t installed to global system path. Typically, Chicago Boss will be copied to a development directory in your path.
</p>




<p>
  <strong>Requirement</strong><br/>
  Chicago Boss is written in the Erlang programming language, so naturally you will need to install Erlang on your system. You may remember my previous article post about <a href="http://geekhmer.github.io/blog/2015/01/14/install-erlang-using-repository-on-ubuntu/">Install Erlang Using Repository on Ubuntu</a>.
</p>




<p>
  <strong>Download a Chicago Boss</strong><br/>
  Download the Chicago Boss source code from here: <a href="http://www.chicagoboss.org/" target="_blank">http://www.chicagoboss.org</a>.
</p>




<p>
  <strong>Open the Archive</strong><br/>
</p>




<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">tar</span> <span class="n">xzf</span> <span class="no">ChicagoBoss</span><span class="o">-*.</span><span class="n">*</span><span class="o">.</span><span class="n">*</span><span class="o">.</span><span class="n">tar</span><span class="o">.</span><span class="n">gz</span>
</span></code></pre></td></tr></table></div></figure>




<p>
  <strong>Compile the Code</strong><br/>
</p>




<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">cd</span> <span class="no">ChicagoBoss</span><span class="o">-*.</span><span class="n">*</span><span class="o">.</span><span class="n">*</span>
</span><span class='line'><span class="n">make</span>
</span></code></pre></td></tr></table></div></figure>




<p>
  <strong>Create a New Project</strong><br/>
</p>




<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">make</span> <span class="n">app</span> <span class="no">PROJECT</span><span class="o">=</span><span class="n">project_name</span>
</span></code></pre></td></tr></table></div></figure>




<p>
  <strong>Enter the New Project Dir and Run the Development Server</strong><br/>
</p>




<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">cd</span> <span class="o">.</span><span class="n">.</span><span class="o">/</span><span class="n">project_name</span>
</span><span class='line'><span class="o">.</span><span class="n">/init</span><span class="o">-</span><span class="n">dev</span><span class="o">.</span><span class="n">sh</span>
</span></code></pre></td></tr></table></div></figure>




<p>
  <strong>Enjoya</strong><br/>
  Point your browser to http://localhost:8001<br/>
  If all is well you will see a forbidding error message about the requested template — not to worry, the new project is empty so there is nothing to serve.
</p>




<p>
  So far so good, see you in the next articles. :)
</p>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/01/27/erlang-message-passing/">Erlang Message Passing</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2015-01-27T23:07:00+07:00" pubdate data-updated="true">Jan 27<span>th</span>, 2015</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>
  <img src="/images/logo_erlang.png" alt="Erlang Message Passing" />
</p>




<p>
  The communication model (among processes) in Erlang is message passing. Erlang processes share no memory. The way that processes communicate is via (asynchronous) message passing. Every process (even the shell) holds a mailbox queue where incoming messages are placed until received by the process. Message passing is asynchronous because the sending process does not block on send. On the other hand, receiving a message in Erlang is a blocking operation.
</p>




<p>
  <h3>Characteristics</h3>
</p>




<p>
  In this subsection I will describe some of the characteristics of message passing in Erlang.
</p>




<p>
  <strong>Asynchronous</strong><br/>
  Message passing in Erlang is a non-blocking operation.
</p>




<p>
  <strong>Data Copy</strong><br/>
  The message’s data are copied from the sending process to the receiver’s message queue, so the receiver gets a fresh copy of the data.
</p>




<p>
  <strong>Ordering</strong><br/>
  Erlang runtime guarantees that if two messages are sent from node A to node B and both are delivered, then the ordering of these messages is kept (because ordering).
</p>




<p>
  <strong>Successful Send</strong><br/>
  The send operation always succeeds (even if the target is a non-existing process) and evaluates to the data sent. An exception is when trying to send data to a non-existing registered process.
</p>




<p>
  <h3>Sending Messages</h3>
</p>




<p>
  Erlang uses the exclamation mark (!) as the operator for sending a message.
</p>




<p>
  Syntax:
</p>




<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="o">%</span><span class="nb">send</span> <span class="n">message</span> <span class="no">Message</span> <span class="n">to</span> <span class="n">the</span> <span class="n">process</span> <span class="n">with</span> <span class="n">pid</span> <span class="no">Pid</span>
</span><span class='line'><span class="no">Pid</span> <span class="o">!</span> <span class="no">Message</span>
</span></code></pre></td></tr></table></div></figure>




<p>
  Send multiple messages &#8220;at once&#8221;:
</p>




<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="no">Pid1</span> <span class="o">!</span> <span class="no">Message</span><span class="p">,</span> <span class="no">Pid2</span> <span class="o">!</span> <span class="no">Message</span><span class="p">,</span> <span class="no">Pid3</span> <span class="o">!</span> <span class="no">Message</span>
</span><span class='line'><span class="no">Pid1</span> <span class="o">!</span> <span class="p">(</span><span class="no">Pid2</span> <span class="o">!</span> <span class="p">(</span><span class="no">Pid3</span> <span class="o">!</span> <span class="no">Message</span><span class="p">))</span>
</span><span class='line'><span class="no">Pid1</span> <span class="o">!</span> <span class="no">Pid2</span> <span class="o">!</span> <span class="no">Pid3</span> <span class="o">!</span> <span class="no">Message</span>
</span></code></pre></td></tr></table></div></figure>




<p>
  Example:
</p>




<p>
  As I have mentioned before, the shell is nothing more than a process. As a process, it has a message queue. In order to print and empty the shell’s message queue we can use the flush/0 BIFs.
</p>




<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="mi">1</span><span class="o">&gt;</span> <span class="nb">self</span><span class="p">()</span> <span class="o">!</span> <span class="n">erlang_term_can_be_sent</span><span class="o">.</span>
</span><span class='line'><span class="n">erlang_term_can_be_sent</span>
</span><span class='line'><span class="mi">2</span><span class="o">&gt;</span> <span class="n">flush</span><span class="p">()</span><span class="o">.</span>
</span><span class='line'><span class="no">Shell</span> <span class="n">got</span> <span class="n">erlang_term_can_be_sent</span>
</span><span class='line'><span class="n">ok</span>
</span><span class='line'><span class="mi">3</span><span class="o">&gt;</span> <span class="nb">self</span><span class="p">()</span> <span class="o">!</span> <span class="o">[</span><span class="n">this</span><span class="p">,</span> <span class="n">is</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">list</span><span class="p">,</span> <span class="s1">&#39;of&#39;</span><span class="p">,</span> <span class="n">atoms</span><span class="o">].</span>
</span><span class='line'><span class="o">[</span><span class="n">this</span><span class="p">,</span><span class="n">is</span><span class="p">,</span><span class="n">a</span><span class="p">,</span><span class="n">list</span><span class="p">,</span><span class="s1">&#39;of&#39;</span><span class="p">,</span><span class="n">atoms</span><span class="o">]</span>
</span><span class='line'><span class="mi">4</span><span class="o">&gt;</span> <span class="nb">self</span><span class="p">()</span> <span class="o">!</span> <span class="p">{</span><span class="n">this</span><span class="p">,</span> <span class="o">[</span><span class="n">is</span><span class="p">,</span> <span class="n">a</span><span class="o">]</span><span class="p">,</span> <span class="n">tuple</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;!&#39;</span><span class="p">,</span> <span class="s1">&#39;!&#39;</span><span class="p">}}</span><span class="o">.</span>
</span><span class='line'><span class="p">{</span><span class="n">this</span><span class="p">,</span><span class="o">[</span><span class="n">is</span><span class="p">,</span><span class="n">a</span><span class="o">]</span><span class="p">,</span><span class="n">tuple</span><span class="p">,{</span><span class="s1">&#39;!&#39;</span><span class="p">,</span><span class="s1">&#39;!&#39;</span><span class="p">}}</span>
</span><span class='line'><span class="mi">5</span><span class="o">&gt;</span> <span class="nb">self</span><span class="p">()</span> <span class="o">!</span> <span class="p">{</span><span class="nb">self</span><span class="p">(),</span> <span class="mi">123</span><span class="p">}</span><span class="o">.</span>
</span><span class='line'><span class="p">{</span><span class="o">&lt;</span><span class="mi">0</span><span class="o">.</span><span class="mi">35</span><span class="o">.</span><span class="mi">0</span><span class="o">&gt;</span><span class="p">,</span><span class="mi">123</span><span class="p">}</span>
</span><span class='line'><span class="mi">6</span><span class="o">&gt;</span> <span class="n">flush</span><span class="p">()</span><span class="o">.</span>
</span><span class='line'><span class="no">Shell</span> <span class="n">got</span> <span class="o">[</span><span class="n">this</span><span class="p">,</span><span class="n">is</span><span class="p">,</span><span class="n">a</span><span class="p">,</span><span class="n">list</span><span class="p">,</span><span class="s1">&#39;of&#39;</span><span class="p">,</span><span class="n">atoms</span><span class="o">]</span>
</span><span class='line'><span class="no">Shell</span> <span class="n">got</span> <span class="p">{</span><span class="n">this</span><span class="p">,</span><span class="o">[</span><span class="n">is</span><span class="p">,</span><span class="n">a</span><span class="o">]</span><span class="p">,</span><span class="n">tuple</span><span class="p">,{</span><span class="s1">&#39;!&#39;</span><span class="p">,</span><span class="s1">&#39;!&#39;</span><span class="p">}}</span>
</span><span class='line'><span class="no">Shell</span> <span class="n">got</span> <span class="p">{</span><span class="o">&lt;</span><span class="mi">0</span><span class="o">.</span><span class="mi">35</span><span class="o">.</span><span class="mi">0</span><span class="o">&gt;</span><span class="p">,</span><span class="mi">123</span><span class="p">}</span>
</span><span class='line'><span class="n">ok</span>
</span><span class='line'><span class="mi">7</span><span class="o">&gt;</span> <span class="no">Pid1</span> <span class="o">=</span> <span class="nb">self</span><span class="p">(),</span> <span class="no">Pid2</span> <span class="o">=</span> <span class="nb">self</span><span class="p">(),</span> <span class="no">Pid3</span> <span class="o">=</span> <span class="nb">self</span><span class="p">()</span><span class="o">.</span>
</span><span class='line'><span class="o">&lt;</span><span class="mi">0</span><span class="o">.</span><span class="mi">35</span><span class="o">.</span><span class="mi">0</span><span class="o">&gt;</span>
</span><span class='line'><span class="mi">8</span><span class="o">&gt;</span> <span class="no">Pid1</span> <span class="o">!</span> <span class="n">msg</span><span class="p">,</span> <span class="no">Pid2</span> <span class="o">!</span> <span class="n">msg</span><span class="p">,</span> <span class="no">Pid3</span> <span class="o">!</span> <span class="n">msg</span><span class="o">.</span>
</span><span class='line'><span class="n">msg</span>
</span><span class='line'><span class="mi">9</span><span class="o">&gt;</span> <span class="n">flush</span><span class="p">()</span><span class="o">.</span>
</span><span class='line'><span class="no">Shell</span> <span class="n">got</span> <span class="n">msg</span>
</span><span class='line'><span class="no">Shell</span> <span class="n">got</span> <span class="n">msg</span>
</span><span class='line'><span class="no">Shell</span> <span class="n">got</span> <span class="n">msg</span>
</span><span class='line'><span class="n">ok</span>
</span><span class='line'><span class="mi">10</span><span class="o">&gt;</span> <span class="no">Pid1</span> <span class="o">!</span> <span class="p">(</span><span class="no">Pid2</span> <span class="o">!</span> <span class="p">(</span><span class="no">Pid3</span> <span class="o">!</span> <span class="n">msg</span><span class="p">))</span><span class="o">.</span>
</span><span class='line'><span class="n">msg</span>
</span><span class='line'><span class="mi">11</span><span class="o">&gt;</span> <span class="n">flush</span><span class="p">()</span><span class="o">.</span>
</span><span class='line'><span class="no">Shell</span> <span class="n">got</span> <span class="n">msg</span>
</span><span class='line'><span class="no">Shell</span> <span class="n">got</span> <span class="n">msg</span>
</span><span class='line'><span class="no">Shell</span> <span class="n">got</span> <span class="n">msg</span>
</span><span class='line'><span class="n">ok</span>
</span><span class='line'><span class="mi">12</span><span class="o">&gt;</span> <span class="no">Pid1</span> <span class="o">!</span> <span class="no">Pid2</span> <span class="o">!</span> <span class="no">Pid3</span> <span class="o">!</span> <span class="n">msg</span><span class="o">.</span>
</span><span class='line'><span class="n">msg</span>
</span><span class='line'><span class="mi">13</span><span class="o">&gt;</span> <span class="n">flush</span><span class="p">()</span><span class="o">.</span>
</span><span class='line'><span class="no">Shell</span> <span class="n">got</span> <span class="n">msg</span>
</span><span class='line'><span class="no">Shell</span> <span class="n">got</span> <span class="n">msg</span>
</span><span class='line'><span class="no">Shell</span> <span class="n">got</span> <span class="n">msg</span>
</span><span class='line'><span class="n">ok</span>
</span></code></pre></td></tr></table></div></figure>




<p>
  <h3>Receiving Messages</h3>
</p>




<p>
  Erlang uses pattern matching for receiving messages (same as in function clause selection and the case statement). The receive statement is used to deliver messages from the message queue.
</p>




<p>
  Syntax:
</p>




<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">receive</span>
</span><span class='line'>  <span class="no">Pattern1</span> <span class="k">when</span> <span class="no">Guard1</span> <span class="o">-&gt;</span>
</span><span class='line'>    <span class="no">ToDo1</span><span class="p">;</span>
</span><span class='line'>  <span class="no">Pattern2</span> <span class="k">when</span> <span class="no">Guard2</span> <span class="o">-&gt;</span>
</span><span class='line'>    <span class="no">ToDo2</span><span class="p">;</span>
</span><span class='line'>  <span class="n">_Other</span> <span class="o">-&gt;</span>
</span><span class='line'>    <span class="no">Catch_all</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>




<p>
  <strong>Receiving Order</strong><br/>
  The message processing is done in a FIFS (First In – First Served) order. Every incoming message is placed in the tail of the process’ message queue. When a receive statement is meet the following processing happens:<br/>
  1. The first message (head of the message queue) is pattern matched against the first receive clause. If match, execute the clause’s body, else go to the next step.<br/>
  2. The same message is pattern matched against the second (if any) receive clause. If match, execute the clause’s body, else go to the next step.<br/>
  3. &#8230;
  4. The same message is pattern matched against the last clause. If match, execute the clause’s body, else go to the next step.
  5. The same iterative process starts again from step 1, but now with the next message from the message queue.<br/><br/>
  The message (if any) that is delivered through receive is removed from the message queue.
</p>




<p>
  Example:
</p>




<figure class='code'><figcaption><span>pingpong.erl </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="o">-</span><span class="n">module</span><span class="p">(</span><span class="n">pingpong</span><span class="p">)</span><span class="o">.</span>
</span><span class='line'><span class="o">-</span><span class="n">export</span><span class="p">(</span><span class="o">[</span><span class="n">play</span><span class="o">/</span><span class="mi">1</span><span class="o">]</span><span class="p">)</span><span class="o">.</span>
</span><span class='line'>
</span><span class='line'><span class="n">play</span><span class="p">(</span><span class="n">N</span><span class="p">)</span> <span class="k">when</span> <span class="n">is_integer</span><span class="p">(</span><span class="n">N</span><span class="p">),</span> <span class="n">N</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="o">-&gt;</span>
</span><span class='line'>  <span class="no">Pong</span> <span class="o">=</span> <span class="n">spawn</span><span class="p">(</span><span class="n">fun</span> <span class="n">pong</span><span class="o">/</span><span class="mi">0</span><span class="p">),</span>
</span><span class='line'>  <span class="n">ping</span><span class="p">(</span><span class="n">N</span><span class="p">,</span> <span class="no">Pong</span><span class="p">)</span><span class="o">.</span>
</span><span class='line'>
</span><span class='line'><span class="n">ping</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="no">Pong</span><span class="p">)</span> <span class="o">-&gt;</span>
</span><span class='line'>  <span class="no">Pong</span> <span class="o">!</span> <span class="nb">exit</span><span class="p">,</span>
</span><span class='line'>  <span class="n">ok</span><span class="p">;</span>
</span><span class='line'><span class="n">ping</span><span class="p">(</span><span class="n">N</span><span class="p">,</span> <span class="no">Pong</span><span class="p">)</span> <span class="o">-&gt;</span>
</span><span class='line'>  <span class="no">Pong</span> <span class="o">!</span> <span class="p">{</span><span class="nb">self</span><span class="p">(),</span> <span class="n">ping</span><span class="p">},</span>
</span><span class='line'>  <span class="n">receive</span>
</span><span class='line'>    <span class="n">pong</span> <span class="o">-&gt;</span>
</span><span class='line'>      <span class="ss">io</span><span class="p">:</span><span class="nb">format</span><span class="p">(</span><span class="s2">&quot;~w : pong [~w]~n&quot;</span><span class="p">,</span> <span class="o">[</span><span class="nb">self</span><span class="p">(),</span> <span class="n">N</span><span class="o">]</span><span class="p">)</span>
</span><span class='line'>  <span class="k">end</span><span class="p">,</span>
</span><span class='line'>  <span class="n">ping</span><span class="p">(</span><span class="n">N</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="no">Pong</span><span class="p">)</span><span class="o">.</span>
</span><span class='line'>
</span><span class='line'><span class="n">pong</span><span class="p">()</span> <span class="o">-&gt;</span>
</span><span class='line'>  <span class="n">receive</span>
</span><span class='line'>    <span class="p">{</span><span class="no">From</span><span class="p">,</span> <span class="n">ping</span><span class="p">}</span> <span class="o">-&gt;</span>
</span><span class='line'>      <span class="ss">io</span><span class="p">:</span><span class="nb">format</span><span class="p">(</span><span class="s2">&quot;~w : ping~n&quot;</span><span class="p">,</span> <span class="o">[</span><span class="nb">self</span><span class="p">()</span><span class="o">]</span><span class="p">),</span>
</span><span class='line'>      <span class="no">From</span> <span class="o">!</span> <span class="n">pong</span><span class="p">,</span>
</span><span class='line'>      <span class="n">pong</span><span class="p">();</span>
</span><span class='line'>    <span class="nb">exit</span> <span class="o">-&gt;</span>
</span><span class='line'>      <span class="n">ok</span>
</span><span class='line'>  <span class="k">end</span><span class="o">.</span>
</span></code></pre></td></tr></table></div></figure>




<p>
  Example running:
</p>




<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="mi">1</span><span class="o">&gt;</span> <span class="n">c</span><span class="p">(</span><span class="n">pingpong</span><span class="p">)</span><span class="o">.</span>
</span><span class='line'><span class="p">{</span><span class="n">ok</span><span class="p">,</span><span class="n">pingpong</span><span class="p">}</span>
</span><span class='line'><span class="mi">2</span><span class="o">&gt;</span> <span class="ss">pingpong</span><span class="p">:</span><span class="n">play</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span><span class="o">.</span>
</span><span class='line'><span class="o">&lt;</span><span class="mi">0</span><span class="o">.</span><span class="mi">49</span><span class="o">.</span><span class="mi">0</span><span class="o">&gt;</span> <span class="p">:</span> <span class="n">ping</span>
</span><span class='line'><span class="o">&lt;</span><span class="mi">0</span><span class="o">.</span><span class="mi">39</span><span class="o">.</span><span class="mi">0</span><span class="o">&gt;</span> <span class="p">:</span> <span class="n">pong</span> <span class="o">[</span><span class="mi">4</span><span class="o">]</span>
</span><span class='line'><span class="o">&lt;</span><span class="mi">0</span><span class="o">.</span><span class="mi">49</span><span class="o">.</span><span class="mi">0</span><span class="o">&gt;</span> <span class="p">:</span> <span class="n">ping</span>
</span><span class='line'><span class="o">&lt;</span><span class="mi">0</span><span class="o">.</span><span class="mi">39</span><span class="o">.</span><span class="mi">0</span><span class="o">&gt;</span> <span class="p">:</span> <span class="n">pong</span> <span class="o">[</span><span class="mi">3</span><span class="o">]</span>
</span><span class='line'><span class="o">&lt;</span><span class="mi">0</span><span class="o">.</span><span class="mi">49</span><span class="o">.</span><span class="mi">0</span><span class="o">&gt;</span> <span class="p">:</span> <span class="n">ping</span>
</span><span class='line'><span class="o">&lt;</span><span class="mi">0</span><span class="o">.</span><span class="mi">39</span><span class="o">.</span><span class="mi">0</span><span class="o">&gt;</span> <span class="p">:</span> <span class="n">pong</span> <span class="o">[</span><span class="mi">2</span><span class="o">]</span>
</span><span class='line'><span class="o">&lt;</span><span class="mi">0</span><span class="o">.</span><span class="mi">49</span><span class="o">.</span><span class="mi">0</span><span class="o">&gt;</span> <span class="p">:</span> <span class="n">ping</span>
</span><span class='line'><span class="o">&lt;</span><span class="mi">0</span><span class="o">.</span><span class="mi">39</span><span class="o">.</span><span class="mi">0</span><span class="o">&gt;</span> <span class="p">:</span> <span class="n">pong</span> <span class="o">[</span><span class="mi">1</span><span class="o">]</span>
</span><span class='line'><span class="n">ok</span>
</span></code></pre></td></tr></table></div></figure>




<p>
  <strong>Timeout</strong><br/>
  Receive is a blocking statement; it blocks until a message that matches one of the clauses is placed in the incoming message queue. Erlang allows the programmer to explicitly unblock the receive statement using a timeout (if a matching message is not delivered until the timeout expires). The complete format of receive statement, including the after construct.
</p>




<p>
  Syntax:
</p>




<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">receive</span>
</span><span class='line'>  <span class="no">Pattern1</span> <span class="k">when</span> <span class="no">Guard1</span> <span class="o">-&gt;</span>
</span><span class='line'>    <span class="no">ToDo1</span><span class="p">;</span>
</span><span class='line'>  <span class="no">Pattern2</span> <span class="k">when</span> <span class="no">Guard2</span> <span class="o">-&gt;</span>
</span><span class='line'>    <span class="no">ToDo2</span><span class="p">;</span>
</span><span class='line'>  <span class="n">_Other</span> <span class="o">-&gt;</span>
</span><span class='line'>    <span class="no">Catch_all</span>
</span><span class='line'><span class="n">after</span> <span class="no">Millisecs</span> <span class="o">-&gt;</span>
</span><span class='line'>  <span class="no">ToDo_timeout</span><span class="p">;</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>




<p>
  Example:
</p>




<figure class='code'><figcaption><span>timeout.erl </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="o">-</span><span class="n">module</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span><span class="o">.</span>
</span><span class='line'><span class="o">-</span><span class="n">export</span><span class="p">(</span><span class="o">[</span><span class="n">start</span><span class="o">/</span><span class="mi">0</span><span class="p">,</span> <span class="nb">sleep</span><span class="o">/</span><span class="mi">1</span><span class="o">]</span><span class="p">)</span><span class="o">.</span>
</span><span class='line'>
</span><span class='line'><span class="n">start</span><span class="p">()</span> <span class="o">-&gt;</span>
</span><span class='line'>  <span class="n">spawn</span><span class="p">(</span><span class="n">fun</span> <span class="n">timeout</span><span class="o">/</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span>
</span><span class='line'>
</span><span class='line'><span class="n">timeout</span><span class="p">()</span> <span class="o">-&gt;</span>
</span><span class='line'>  <span class="n">receive</span>
</span><span class='line'>    <span class="n">cancel</span> <span class="o">-&gt;</span>
</span><span class='line'>      <span class="ss">io</span><span class="p">:</span><span class="nb">format</span><span class="p">(</span><span class="s2">&quot;Timeout canceled~n&quot;</span><span class="p">)</span>
</span><span class='line'>  <span class="n">after</span> <span class="mi">2000</span> <span class="o">-&gt;</span> <span class="sx">% 2 </span><span class="n">seconds</span>
</span><span class='line'>    <span class="ss">io</span><span class="p">:</span><span class="nb">format</span><span class="p">(</span><span class="s2">&quot;Timeout triggered~n&quot;</span><span class="p">),</span>
</span><span class='line'>    <span class="n">timeout</span><span class="p">()</span>
</span><span class='line'>  <span class="k">end</span><span class="o">.</span>
</span><span class='line'>
</span><span class='line'><span class="o">%</span><span class="n">a</span> <span class="nb">sleep</span> <span class="n">function</span>
</span><span class='line'><span class="nb">sleep</span><span class="p">(</span><span class="no">Ms</span><span class="p">)</span> <span class="o">-&gt;</span>
</span><span class='line'>  <span class="ss">io</span><span class="p">:</span><span class="nb">format</span><span class="p">(</span><span class="s2">&quot;Sleeping for ~w ms~n&quot;</span><span class="p">,</span> <span class="o">[</span><span class="no">Ms</span><span class="o">]</span><span class="p">),</span>
</span><span class='line'>  <span class="n">receive</span>
</span><span class='line'>  <span class="n">after</span> <span class="no">Ms</span> <span class="o">-&gt;</span>
</span><span class='line'>    <span class="n">done</span>
</span><span class='line'>  <span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>




<p>
  Example running:
</p>




<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="mi">1</span><span class="o">&gt;</span> <span class="n">c</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span><span class="o">.</span>
</span><span class='line'><span class="p">{</span><span class="n">ok</span><span class="p">,</span><span class="n">timeout</span><span class="p">}</span>
</span><span class='line'><span class="mi">2</span><span class="o">&gt;</span> <span class="n">P</span> <span class="o">=</span> <span class="ss">timeout</span><span class="p">:</span><span class="n">start</span><span class="p">()</span><span class="o">.</span>
</span><span class='line'><span class="o">&lt;</span><span class="mi">0</span><span class="o">.</span><span class="mi">42</span><span class="o">.</span><span class="mi">0</span><span class="o">&gt;</span>
</span><span class='line'><span class="no">Timeout</span> <span class="n">triggered</span>
</span><span class='line'><span class="no">Timeout</span> <span class="n">triggered</span>
</span><span class='line'><span class="mi">3</span><span class="o">&gt;</span> <span class="n">P</span> <span class="o">!</span> <span class="n">cancel</span><span class="o">.</span>
</span><span class='line'><span class="no">Timeout</span> <span class="n">canceled</span>
</span><span class='line'><span class="n">cancel</span>
</span><span class='line'><span class="mi">4</span><span class="o">&gt;</span> <span class="ss">timeout</span><span class="p">:</span><span class="nb">sleep</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span><span class="o">.</span>
</span><span class='line'><span class="no">Sleeping</span> <span class="k">for</span> <span class="mi">1000</span> <span class="n">ms</span>
</span><span class='line'><span class="n">done</span>
</span><span class='line'><span class="mi">5</span><span class="o">&gt;</span> <span class="ss">timeout</span><span class="p">:</span><span class="nb">sleep</span><span class="p">(</span><span class="mi">3000</span><span class="p">)</span><span class="o">.</span>
</span><span class='line'><span class="no">Sleeping</span> <span class="k">for</span> <span class="mi">3000</span> <span class="n">ms</span>
</span><span class='line'><span class="n">done</span>
</span></code></pre></td></tr></table></div></figure>



</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/01/26/erlang-concurrency/">Erlang Concurrency</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2015-01-26T18:46:00+07:00" pubdate data-updated="true">Jan 26<span>th</span>, 2015</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>
  <img src="/images/logo_erlang.png" alt="Erlang Concurrency" />
</p>




<p>
  Concurrency is defined as “the temporal property of two things happening at the same time”. In Computer Science, the definition is “concurrency is a property of systems in which several computations are executing simultaneously, and potentially interacting with each other. The computations may be executing on multiple cores in the same chip, preemptively time-shared threads on the same processor, or executed on physically separated processors.”
</p>




<p>
  Erlang was built with concurrency and fault-tolerance in mind.
</p>




<p>
  <h3>Processes</h3>
</p>




<p>
  The granularity of concurrency in Erlang is a process. A process is an activity/task that runs concurrently with and independently from the other processes (though processes can interact with each other using messages, links, etc.). Processes in Erlang are different than the processes and threads most people are familiar with. Erlang processes are lightweight, operate in (memory) isolation from other processes, and are scheduled by the Erlang’s Virtual Machine (VM). The creation time of process is very low, the memory footprint of a just spawned process is very small, and a single Erlang VM can have millions of processes running.
</p>




<p>
  <h3>Messaging Passing</h3>
</p>




<p>
  The communication model (among processes) in Erlang is message passing. Erlang processes share no memory. The way that processes communicate is via message passing (asynchronous). Every process (even the shell) holds a mailbox queue where incoming messages are placed until received by the process. Message passing is asynchronous because the sending process does not block on send. Sending a message in Erlang is a non-blocking operation that always succeed (more in the next post).
</p>




<p>
  <h3>Why Message Passing?</h3>
</p>




<p>
  We are so used to the shared memory model, why changing it? Here are some characteristics that are part of Erlang mostly because of the message passing memory model.
</p>




<p>
  <strong>Crash Independency</strong><br/>
  Message passing allows for easier distributed programming. Imagine if you want to distribute an application that uses shared memory. To do this, one should either use a message passing solution (such as MPI) or a Distributed Shared Memory system (DSM), that also uses message passing to operate. Why not using message passing in the first place? Especially in Erlang, message passing allows for location transparency (when sending a message there is no difference to the programmer if the receiver resides in the local or a remote node).
</p>




<p>
  <h3>Creating Processes</h3>
</p>




<p>
  Erlang provides Built-In Functions that are used to spawn new processes. The simplest one is spawn/1|3 (the 1|3 denotes that both spawn/1 and spawn/3 functions exist).
</p>




<p>
  <strong>Pid Datatype</strong><br/>
  Pid stands for Process identifier and is the datatype used for the unique process, identifiers that are assigned to every process.
</p>




<p>
  <strong>spawn/1|3</strong><br/>
  Creates a new process and returns its pid. The new process is placed in the system scheduler queue, so it will be run some time later.
</p>




<p>
  <strong>spawn/1</strong><br/>
  Called as spawn(Fun). The new process will run function Fun with an empty list ([]) as input.
</p>




<p>
  <strong>spawn/3</strong><br/>
  Called as spawn(Module, Function, Args). The new process will run function Module:Function with the elements of the list Args as input.
</p>




<p>
  Example:
</p>




<figure class='code'><figcaption><span>process.erl </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="o">-</span><span class="n">module</span><span class="p">(</span><span class="n">process</span><span class="p">)</span><span class="o">.</span>
</span><span class='line'><span class="o">-</span><span class="n">export</span><span class="p">(</span><span class="o">[</span><span class="n">start</span><span class="o">/</span><span class="mi">0</span><span class="p">,</span> <span class="n">say_something</span><span class="o">/</span><span class="mi">2</span><span class="o">]</span><span class="p">)</span><span class="o">.</span>
</span><span class='line'>
</span><span class='line'><span class="n">say_something</span><span class="p">(</span><span class="n">_What</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">done</span><span class="p">;</span>
</span><span class='line'><span class="n">say_something</span><span class="p">(</span><span class="no">What</span><span class="p">,</span> <span class="no">Times</span><span class="p">)</span> <span class="o">-&gt;</span>
</span><span class='line'>  <span class="ss">io</span><span class="p">:</span><span class="nb">format</span><span class="p">(</span><span class="s2">&quot;~p~n&quot;</span><span class="p">,</span> <span class="o">[</span><span class="no">What</span><span class="o">]</span><span class="p">),</span>
</span><span class='line'>  <span class="n">say_something</span><span class="p">(</span><span class="no">What</span><span class="p">,</span> <span class="no">Times</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span><span class="o">.</span>
</span><span class='line'>
</span><span class='line'><span class="n">start</span><span class="p">()</span> <span class="o">-&gt;</span>
</span><span class='line'>  <span class="n">spawn</span><span class="p">(</span><span class="n">process</span><span class="p">,</span> <span class="n">say_something</span><span class="p">,</span> <span class="o">[</span><span class="s2">&quot;hello&quot;</span><span class="p">,</span> <span class="mi">3</span><span class="o">]</span><span class="p">),</span>
</span><span class='line'>  <span class="n">spawn</span><span class="p">(</span><span class="n">process</span><span class="p">,</span> <span class="n">say_something</span><span class="p">,</span> <span class="o">[</span><span class="s2">&quot;bonjour&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="o">]</span><span class="p">)</span><span class="o">.</span>
</span></code></pre></td></tr></table></div></figure>




<figure class='code'><figcaption><span>process1.erl </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="o">-</span><span class="n">module</span><span class="p">(</span><span class="n">process1</span><span class="p">)</span><span class="o">.</span>
</span><span class='line'><span class="o">-</span><span class="n">export</span><span class="p">(</span><span class="o">[</span><span class="n">start</span><span class="o">/</span><span class="mi">0</span><span class="p">,</span> <span class="n">ping</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="n">pong</span><span class="o">/</span><span class="mi">0</span><span class="o">]</span><span class="p">)</span><span class="o">.</span>
</span><span class='line'>
</span><span class='line'><span class="n">ping</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="no">Pong_Pid</span><span class="p">)</span> <span class="o">-&gt;</span>
</span><span class='line'>  <span class="no">Pong_Pid</span> <span class="o">!</span> <span class="n">finished</span><span class="p">,</span>
</span><span class='line'>  <span class="ss">io</span><span class="p">:</span><span class="nb">format</span><span class="p">(</span><span class="s2">&quot;ping finished~n&quot;</span><span class="p">,</span> <span class="o">[]</span><span class="p">);</span>
</span><span class='line'><span class="n">ping</span><span class="p">(</span><span class="n">N</span><span class="p">,</span> <span class="no">Pong_Pid</span><span class="p">)</span> <span class="o">-&gt;</span>
</span><span class='line'>  <span class="no">Pong_Pid</span> <span class="o">!</span> <span class="p">{</span><span class="n">ping</span><span class="p">,</span> <span class="nb">self</span><span class="p">()},</span>
</span><span class='line'>  <span class="n">receive</span>
</span><span class='line'>    <span class="n">pong</span> <span class="o">-&gt;</span>
</span><span class='line'>      <span class="ss">io</span><span class="p">:</span><span class="nb">format</span><span class="p">(</span><span class="s2">&quot;ping received pong~n&quot;</span><span class="p">,</span> <span class="o">[]</span><span class="p">)</span>
</span><span class='line'>  <span class="k">end</span><span class="p">,</span>
</span><span class='line'>  <span class="n">ping</span><span class="p">(</span><span class="n">N</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="no">Pong_Pid</span><span class="p">)</span><span class="o">.</span>
</span><span class='line'>
</span><span class='line'><span class="n">pong</span><span class="p">()</span> <span class="o">-&gt;</span>
</span><span class='line'>  <span class="n">receive</span>
</span><span class='line'>    <span class="n">finished</span> <span class="o">-&gt;</span>
</span><span class='line'>      <span class="ss">io</span><span class="p">:</span><span class="nb">format</span><span class="p">(</span><span class="s2">&quot;pong finished~n&quot;</span><span class="p">,</span> <span class="o">[]</span><span class="p">);</span>
</span><span class='line'>    <span class="p">{</span><span class="n">ping</span><span class="p">,</span> <span class="no">Ping_Pid</span><span class="p">}</span> <span class="o">-&gt;</span>
</span><span class='line'>      <span class="ss">io</span><span class="p">:</span><span class="nb">format</span><span class="p">(</span><span class="s2">&quot;pong received ping~n&quot;</span><span class="p">,</span> <span class="o">[]</span><span class="p">),</span>
</span><span class='line'>      <span class="no">Ping_Pid</span> <span class="o">!</span> <span class="n">pong</span><span class="p">,</span>
</span><span class='line'>      <span class="n">pong</span><span class="p">()</span>
</span><span class='line'>  <span class="k">end</span><span class="o">.</span>
</span><span class='line'>
</span><span class='line'><span class="n">start</span><span class="p">()</span> <span class="o">-&gt;</span>
</span><span class='line'>  <span class="no">Pong_Pid</span> <span class="o">=</span> <span class="n">spawn</span><span class="p">(</span><span class="n">message</span><span class="p">,</span> <span class="n">pong</span><span class="p">,</span> <span class="o">[]</span><span class="p">),</span>
</span><span class='line'>  <span class="n">spawn</span><span class="p">(</span><span class="n">message</span><span class="p">,</span> <span class="n">ping</span><span class="p">,</span> <span class="o">[</span><span class="mi">3</span><span class="p">,</span> <span class="no">Pong_Pid</span><span class="o">]</span><span class="p">)</span><span class="o">.</span>
</span></code></pre></td></tr></table></div></figure>




<p>
  <h3>Creating Linked Processes</h3>
</p>




<p>
  A very useful feature is to create a new process that is linked to the “parent” one. The link between them guarantees that if one of the two fails (finishes abnormally), the other one also stops executing. This feature is very helpful because it reduces the need for “cleaning up” in case of a failure. Instead of explicitely handling an error, the “let it fail and let someone else handle it” philosophy can be used. The BIF(s) providing this functionality are the spawn_link/1|3.
</p>




<p>
  <strong>link/1</strong><br/>
  Creates a bidirectional link between the calling process and another process (or port), if there is not such a link already. If a process attempts to create a link to itself, nothing is done. Returns true.
</p>




<p>
  <strong>spawn_link/1|3</strong><br/>
  Provides the same functionality as spawn/1|3 with the addition that a link is atomically created between the caller and the newly spawned process.
</p>




<p>
  <strong>spawn_link/1</strong><br/>
  Same call convention as spawn/1.
</p>




<p>
  <strong>spawn_link/3</strong><br/>
  Same call convention as spawn/3.
</p>




<p>
  Example:
</p>




<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">spawnLink</span><span class="p">()</span> <span class="o">-&gt;</span>
</span><span class='line'>  <span class="n">spawn</span><span class="p">(</span><span class="n">fun</span> <span class="n">spawnLink_</span><span class="o">/</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span>
</span><span class='line'>
</span><span class='line'><span class="n">spawnLink_</span><span class="p">()</span> <span class="o">-&gt;</span>
</span><span class='line'>  <span class="n">spawn_link</span><span class="p">(?</span><span class="no">MODULE</span><span class="p">,</span> <span class="n">sayExit</span><span class="p">,</span> <span class="o">[]</span><span class="p">),</span>
</span><span class='line'>  <span class="n">justLoop</span><span class="p">()</span><span class="o">.</span>
</span><span class='line'>
</span><span class='line'><span class="n">justLoop</span><span class="p">()</span> <span class="o">-&gt;</span>
</span><span class='line'>  <span class="n">justLoop</span><span class="p">()</span><span class="o">.</span>
</span><span class='line'>
</span><span class='line'><span class="n">sayExit</span><span class="p">()</span> <span class="o">-&gt;</span>
</span><span class='line'>  <span class="ss">timer</span><span class="p">:</span><span class="nb">sleep</span><span class="p">(</span><span class="mi">4000</span><span class="p">),</span>
</span><span class='line'>  <span class="ss">erlang</span><span class="p">:</span><span class="n">kill</span><span class="p">(</span><span class="n">not_catched</span><span class="p">)</span><span class="o">.</span>
</span><span class='line'>
</span><span class='line'><span class="mi">1</span><span class="o">&gt;</span> <span class="n">c</span><span class="p">(</span><span class="n">spawning</span><span class="p">)</span><span class="o">.</span>
</span><span class='line'><span class="p">{</span><span class="n">ok</span><span class="p">,</span><span class="n">spawning</span><span class="p">}</span>
</span><span class='line'><span class="mi">2</span><span class="o">&gt;</span> <span class="no">Pid</span> <span class="o">=</span> <span class="ss">spawning</span><span class="p">:</span><span class="n">spawnLink</span><span class="p">()</span><span class="o">.</span>
</span><span class='line'><span class="o">&lt;</span><span class="mi">0</span><span class="o">.</span><span class="mi">42</span><span class="o">.</span><span class="mi">0</span><span class="o">&gt;</span>
</span><span class='line'><span class="mi">3</span><span class="o">&gt;</span> <span class="ss">erlang</span><span class="p">:</span><span class="n">is_process_alive</span><span class="p">(</span><span class="no">Pid</span><span class="p">)</span><span class="o">.</span>
</span><span class='line'><span class="kp">true</span>
</span><span class='line'><span class="mi">4</span><span class="o">&gt;</span> <span class="ss">erlang</span><span class="p">:</span><span class="n">is_process_alive</span><span class="p">(</span><span class="no">Pid</span><span class="p">)</span><span class="o">.</span>
</span><span class='line'><span class="kp">true</span>
</span><span class='line'><span class="mi">5</span><span class="o">&gt;</span> <span class="ss">erlang</span><span class="p">:</span><span class="n">is_process_alive</span><span class="p">(</span><span class="no">Pid</span><span class="p">)</span><span class="o">.</span>
</span><span class='line'><span class="o">=</span><span class="no">ERROR</span> <span class="no">REPORT</span><span class="o">====</span> <span class="mi">7</span><span class="o">-</span><span class="no">May</span><span class="o">-</span><span class="mi">2011</span><span class="o">::</span><span class="mi">12</span><span class="p">:</span><span class="mi">24</span><span class="p">:</span><span class="mi">54</span> <span class="o">===</span>
</span><span class='line'><span class="no">Error</span> <span class="k">in</span> <span class="n">process</span> <span class="o">&lt;</span><span class="mi">0</span><span class="o">.</span><span class="mi">43</span><span class="o">.</span><span class="mi">0</span><span class="o">&gt;</span> <span class="n">with</span> <span class="nb">exit</span> <span class="ss">value</span><span class="p">:</span> <span class="p">{</span><span class="k">undef</span><span class="p">,</span><span class="o">[</span><span class="p">{</span><span class="n">erlang</span><span class="p">,</span><span class="n">kill</span><span class="p">,</span><span class="o">[</span><span class="n">not_</span>
</span><span class='line'><span class="kp">false</span>
</span><span class='line'><span class="mi">6</span><span class="o">&gt;</span> <span class="ss">erlang</span><span class="p">:</span><span class="n">is_process_alive</span><span class="p">(</span><span class="no">Pid</span><span class="p">)</span><span class="o">.</span>
</span><span class='line'><span class="kp">false</span>
</span></code></pre></td></tr></table></div></figure>




<p>
  <h3>Other Processes’-related Built-In Functions</h3>
</p>




<p>
  There are several other BIFs related to processes. The following are some commonly used.
</p>




<p>
  <strong>is_pid/1</strong><br/>
  Returns true if the argument is a pid, else false.
</p>




<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="mi">1</span><span class="o">&gt;</span> <span class="no">Pid</span> <span class="o">=</span> <span class="n">spawn</span><span class="p">(</span><span class="n">io</span><span class="p">,</span> <span class="nb">format</span><span class="p">,</span> <span class="o">[</span><span class="s2">&quot;Hello~n&quot;</span><span class="o">]</span><span class="p">)</span><span class="o">.</span>
</span><span class='line'><span class="no">Hello</span>
</span><span class='line'><span class="o">&lt;</span><span class="mi">0</span><span class="o">.</span><span class="mi">37</span><span class="o">.</span><span class="mi">0</span><span class="o">&gt;</span>
</span><span class='line'><span class="mi">2</span><span class="o">&gt;</span> <span class="n">is_pid</span><span class="p">(</span><span class="no">Pid</span><span class="p">)</span><span class="o">.</span>
</span><span class='line'><span class="kp">true</span>
</span></code></pre></td></tr></table></div></figure>




<p>
  <strong>is_process_alive/1</strong><br/>
  Called as is_process_alive(Pid). Pid must refer to a process at the local node. Returns true if the process exists and is alive, that is not exiting and has not exited. Otherwise, returns false.
</p>




<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="mi">1</span><span class="o">&gt;</span> <span class="n">is_process_alive</span><span class="p">(</span><span class="nb">self</span><span class="p">())</span><span class="o">.</span>
</span><span class='line'><span class="kp">true</span>
</span></code></pre></td></tr></table></div></figure>




<p>
  <strong>list_to_pid/1</strong><br/>
  Transforms the input string to a pid. This BIF is intended to be used for debugging and not in the application development.
</p>




<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="mi">1</span><span class="o">&gt;</span> <span class="no">Pid</span> <span class="o">==</span> <span class="n">list_to_pid</span><span class="p">(</span><span class="s2">&quot;&lt;0.39.0&gt;&quot;</span><span class="p">)</span><span class="o">.</span>
</span><span class='line'><span class="kp">true</span>
</span></code></pre></td></tr></table></div></figure>




<p>
  <strong>pid_to_list/1</strong><br/>
  Returns the textual representation of a pid. This BIF is intended to be used for debugging only.
</p>




<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="mi">1</span><span class="o">&gt;</span> <span class="no">StringPid</span> <span class="o">=</span> <span class="n">pid_to_list</span><span class="p">(</span><span class="no">Pid</span><span class="p">)</span><span class="o">.</span>
</span><span class='line'><span class="s2">&quot;&lt;0.37.0&gt;&quot;</span>
</span></code></pre></td></tr></table></div></figure>




<p>
  <strong>register/2</strong><br/>
  Registers a process (or a port) with a name. This name can be later used to refer to the process.
</p>




<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="mi">1</span><span class="o">&gt;</span> <span class="no">ShellPid</span> <span class="o">=</span> <span class="nb">self</span><span class="p">()</span><span class="o">.</span>
</span><span class='line'><span class="o">&lt;</span><span class="mi">0</span><span class="o">.</span><span class="mi">99</span><span class="o">.</span><span class="mi">0</span><span class="o">&gt;</span>
</span><span class='line'><span class="mi">2</span><span class="o">&gt;</span> <span class="n">register</span><span class="p">(</span><span class="n">shell</span><span class="p">,</span> <span class="no">ShellPid</span><span class="p">)</span><span class="o">.</span>
</span><span class='line'><span class="kp">true</span>
</span></code></pre></td></tr></table></div></figure>




<p>
  <strong>registered/0</strong><br/>
  Returns a list with the names of all registered processes.
</p>




<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="mi">1</span><span class="o">&gt;</span> <span class="n">registered</span><span class="p">()</span><span class="o">.</span>
</span><span class='line'><span class="o">[</span><span class="n">init</span><span class="p">,</span><span class="n">shell</span><span class="p">,</span><span class="n">error_logger</span><span class="p">,</span><span class="n">rex</span><span class="p">,</span><span class="n">kernel_sup</span><span class="p">,</span><span class="n">inet_db</span><span class="p">,</span>
</span><span class='line'> <span class="n">global_name_server</span><span class="p">,</span><span class="n">file_server_2</span><span class="p">,</span><span class="n">code_server</span><span class="p">,</span>
</span><span class='line'> <span class="n">erl_prim_loader</span><span class="p">,</span><span class="n">user_drv</span><span class="p">,</span><span class="n">standard_error_sup</span><span class="p">,</span>
</span><span class='line'> <span class="n">application_controller</span><span class="p">,</span><span class="n">standard_error</span><span class="p">,</span><span class="n">kernel_safe_sup</span><span class="p">,</span><span class="n">user</span><span class="p">,</span>
</span><span class='line'> <span class="n">global_group</span><span class="o">]</span>
</span></code></pre></td></tr></table></div></figure>




<p>
  <strong>self/0</strong><br/>
  One of the most commonly used BIF, returns the pid of the calling processes. As you will see in the next post (about messaging), self is used in almost every message send.
</p>




<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="mi">1</span><span class="o">&gt;</span> <span class="no">ShellPid</span> <span class="o">=</span> <span class="nb">self</span><span class="p">()</span><span class="o">.</span>
</span><span class='line'><span class="o">&lt;</span><span class="mi">0</span><span class="o">.</span><span class="mi">44</span><span class="o">.</span><span class="mi">0</span><span class="o">&gt;</span>
</span></code></pre></td></tr></table></div></figure>




<p>
  <strong>erlang:send/2|3</strong><br/>
  Sends a message to a process. You will see message sending in detail in the next post.
</p>




<p>
  <strong>erlang:send_after/3</strong><br/>
  Sends a message after a given amount of time.
</p>




<p>
  <strong>unlink/1</strong><br/>
  Removes the link between two processes. Returns true even if there is no exist link.
</p>




<p>
  <strong>unregister/1</strong><br/>
  Called as unregister(Name). Removes the association between the Name and the process which it is associated with.
</p>




<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="mi">1</span><span class="o">&gt;</span> <span class="n">unregister</span><span class="p">(</span><span class="n">shell</span><span class="p">)</span><span class="o">.</span>
</span><span class='line'><span class="kp">true</span>
</span><span class='line'><span class="mi">2</span><span class="o">&gt;</span> <span class="n">registered</span><span class="p">()</span><span class="o">.</span>
</span><span class='line'><span class="o">[</span><span class="n">init</span><span class="p">,</span><span class="n">error_logger</span><span class="p">,</span><span class="n">rex</span><span class="p">,</span><span class="n">kernel_sup</span><span class="p">,</span><span class="n">inet_db</span><span class="p">,</span>
</span><span class='line'> <span class="n">global_name_server</span><span class="p">,</span><span class="n">file_server_2</span><span class="p">,</span><span class="n">code_server</span><span class="p">,</span>
</span><span class='line'> <span class="n">erl_prim_loader</span><span class="p">,</span><span class="n">user_drv</span><span class="p">,</span><span class="n">standard_error_sup</span><span class="p">,</span>
</span><span class='line'> <span class="n">application_controller</span><span class="p">,</span><span class="n">standard_error</span><span class="p">,</span><span class="n">kernel_safe_sup</span><span class="p">,</span><span class="n">user</span><span class="p">,</span>
</span><span class='line'> <span class="n">global_group</span><span class="o">]</span>
</span></code></pre></td></tr></table></div></figure>




<p>
  <strong>whereis/1</strong><br/>
  Called as whereis(Name). Returns the pid of the process that is register with the name Name.
</p>




<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="mi">1</span><span class="o">&gt;</span> <span class="n">whereis</span><span class="p">(</span><span class="n">shell</span><span class="p">)</span><span class="o">.</span>
</span><span class='line'><span class="o">&lt;</span><span class="mi">0</span><span class="o">.</span><span class="mi">44</span><span class="o">.</span><span class="mi">0</span><span class="o">&gt;</span>
</span></code></pre></td></tr></table></div></figure>



</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/01/24/erlang-list-comprehension/">Erlang List Comprehension</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2015-01-24T21:02:00+07:00" pubdate data-updated="true">Jan 24<span>th</span>, 2015</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>
  <img src="/images/logo_erlang.png" alt="Erlang List Comprehension" />
</p>




<p>
  <h3>Syntax:</h3>
</p>




<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="o">[</span><span class="no">Expression</span> <span class="o">||</span> <span class="no">Generators1</span><span class="p">,</span> <span class="no">Guards1</span><span class="p">,</span> <span class="no">Generators2</span><span class="p">,</span> <span class="o">.</span><span class="n">.</span><span class="o">.]</span>
</span></code></pre></td></tr></table></div></figure>




<p><p>
  <strong>Expression</strong><br/>
  The expression specifies the elements of the result. Example: <code>[I || &lt;&ndash; [1, 2, 3]]</code> returns the input list element as is.
</p></p>

<p><p>
  <strong>Generators</strong><br/>
  Generators create the data used in ther filter-map operations. A generator has the &ldquo;Pattern &lt;&ndash; Data&rdquo; format, where &ldquo;Data&rdquo; is a list or an expression that results to a list and Pattern is a pattern used to match with the elements of the list. This pattern can be used to disassembly elements. Example two valid generators are <code>I &lt;&ndash; lists:seq(1, 10)</code> and <code>{X, Y} &lt;&ndash; [{&lsquo;A&rsquo;, &lsquo;Excellent&rsquo;}, {&lsquo;B&rsquo;, &lsquo;Good&rsquo;}, {&lsquo;C&rsquo;, &lsquo;Fair&rsquo;}]</code>.
</p></p>

<p><p>
  <strong>Guards</strong><br/>
  Guards are expression that return either true or false, the same as the guards we have seen in the previous posts. They apply to the variables that are on the left of the guard and the ones that are accessible to the scope where the comprehension runs. Example: <code>I &lt;&ndash; [1, 2, 3, 4], I rem 1 == 0</code> is a valid generator.
</p></p>

<p><p>
  <h3>Example:</h3>
</p></p>

<p><p>
  I will show some examples that implements some list functions. The most of them already exists in the lists module as I did in the past, I will add these functions to the module called mylists.
</p></p>

<p><p>
  <strong>map/2</strong><br/>
  The results contains the elements of the input list after applied to the input function.
</p></p>

<p><figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="sx">% Generator: </span><span class="n">the</span> <span class="n">items</span> <span class="n">of</span> <span class="n">the</span> <span class="n">list</span> <span class="n">provided</span>
</span><span class='line'><span class="sx">% Guard: </span><span class="n">no</span> <span class="n">guard</span> <span class="n">expression</span><span class="p">,</span> <span class="n">all</span> <span class="n">items</span> <span class="n">are</span> <span class="n">kept</span>
</span><span class='line'><span class="sx">% Expression: </span><span class="n">the</span> <span class="n">item</span> <span class="n">from</span> <span class="n">the</span> <span class="n">generator</span> <span class="n">after</span> <span class="n">applied</span> <span class="n">to</span> <span class="n">the</span> <span class="no">Function</span>
</span><span class='line'>
</span><span class='line'><span class="n">map</span><span class="p">(</span><span class="no">Function</span><span class="p">,</span> <span class="no">List</span><span class="p">)</span> <span class="o">&ndash;&gt;</span>
</span><span class='line'>  <span class="o">[</span><span class="no">Function</span><span class="p">(</span><span class="n">I</span><span class="p">)</span> <span class="o">||</span> <span class="n">I</span> <span class="o">&lt;&ndash;</span> <span class="no">List</span><span class="o">].</span>
</span><span class='line'>
</span><span class='line'><span class="mi">1</span><span class="o">&gt;</span> <span class="ss">mylists</span><span class="p">:</span><span class="n">map</span><span class="p">(</span><span class="n">fun</span><span class="p">(</span><span class="n">I</span><span class="p">)</span> <span class="o">&ndash;&gt;</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">I</span> <span class="k">end</span><span class="p">,</span> <span class="o">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="o">]</span><span class="p">)</span><span class="o">.</span>
</span><span class='line'><span class="o">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">10</span><span class="o">]</span>
</span></code></pre></td></tr></table></div></figure></p>

<p><p>
  <strong>deleteall/2</strong><br/>
  Deletes all occurrences of an element from the list.
</p></p>

<p><figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="sx">% Generator: </span><span class="n">the</span> <span class="n">items</span> <span class="n">of</span> <span class="n">the</span> <span class="n">list</span> <span class="n">provided</span>
</span><span class='line'><span class="sx">% Guard: </span><span class="n">the</span> <span class="n">item</span> <span class="n">should</span> <span class="ow">not</span> <span class="n">be</span> <span class="n">equal</span> <span class="p">(</span><span class="n">both</span> <span class="n">value</span> <span class="ow">and</span> <span class="n">type</span><span class="p">)</span> <span class="n">with</span> <span class="n">the</span> <span class="no">Elem</span>
</span><span class='line'><span class="sx">% Expression: </span><span class="n">keep</span> <span class="n">the</span> <span class="n">elements</span> <span class="n">of</span> <span class="n">the</span> <span class="n">list</span> <span class="n">that</span> <span class="s2">&quot;pass&quot;</span> <span class="n">the</span> <span class="n">guard</span> <span class="nb">test</span><span class="p">,</span> <span class="n">as</span> <span class="n">they</span> <span class="n">are</span>
</span><span class='line'>
</span><span class='line'><span class="n">deleteall</span><span class="p">(</span><span class="no">Elem</span><span class="p">,</span> <span class="no">List</span><span class="p">)</span> <span class="o">&ndash;&gt;</span>
</span><span class='line'>  <span class="o">[</span><span class="n">I</span> <span class="o">||</span> <span class="n">I</span> <span class="o">&lt;&ndash;</span> <span class="no">List</span><span class="p">,</span> <span class="n">I</span> <span class="o">=</span><span class="sr">/= Elem].</span>
</span><span class='line'>
</span><span class='line'><span class="sr">1&gt; mylists:deleteall(3, [1, 2, 3, 4, 3, 2, 1]).</span>
</span><span class='line'><span class="sr">[1,2,4,2,1]</span>
</span></code></pre></td></tr></table></div></figure></p>

<p><p>
  <strong>partition/2</strong><br/>
  Partition a list into two, according to if the elements satisfy or not a given predicate.
</p></p>

<p><figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">partition</span><span class="p">(</span><span class="no">Pred</span><span class="p">,</span> <span class="no">List</span><span class="p">)</span> <span class="o">&ndash;&gt;</span>
</span><span class='line'>  <span class="p">{</span><span class="o">[</span><span class="n">I</span> <span class="o">||</span> <span class="n">I</span> <span class="o">&lt;&ndash;</span> <span class="no">List</span><span class="p">,</span> <span class="no">Pred</span><span class="p">(</span><span class="n">I</span><span class="p">)</span><span class="o">]</span><span class="p">,</span> <span class="o">[</span><span class="n">I</span> <span class="o">||</span> <span class="n">I</span> <span class="o">&lt;&ndash;</span> <span class="no">List</span><span class="p">,</span> <span class="ow">not</span><span class="p">(</span><span class="no">Pred</span><span class="p">(</span><span class="n">I</span><span class="p">))</span><span class="o">]</span><span class="p">}</span><span class="o">.</span>
</span><span class='line'>
</span><span class='line'><span class="sx">% an </span><span class="n">alternative</span> <span class="n">implementation</span>
</span><span class='line'><span class="n">partition2</span><span class="p">(</span><span class="no">Pred</span><span class="p">,</span> <span class="no">List</span><span class="p">)</span> <span class="o">&ndash;&gt;</span>
</span><span class='line'>    <span class="no">Sat</span> <span class="o">=</span> <span class="n">filter</span><span class="p">(</span><span class="no">Pred</span><span class="p">,</span> <span class="no">List</span><span class="p">),</span>
</span><span class='line'>    <span class="p">{</span><span class="no">Sat</span><span class="p">,</span> <span class="no">List</span> <span class="o">&mdash;</span> <span class="no">Sat</span><span class="p">}</span><span class="o">.</span>
</span><span class='line'>
</span><span class='line'><span class="mi">1</span><span class="o">&gt;</span> <span class="ss">mylists</span><span class="p">:</span><span class="n">partition</span><span class="p">(</span><span class="n">fun</span><span class="p">(</span><span class="n">I</span><span class="p">)</span> <span class="o">&ndash;&gt;</span> <span class="n">is_atom</span><span class="p">(</span><span class="n">I</span><span class="p">)</span> <span class="k">end</span><span class="p">,</span> <span class="o">[</span><span class="mi">1</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="mi">3</span><span class="o">.</span><span class="mi">0</span><span class="o">]</span><span class="p">)</span><span class="o">.</span>
</span><span class='line'><span class="p">{</span><span class="o">[</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="o">]</span><span class="p">,</span><span class="o">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="o">.</span><span class="mi">0</span><span class="o">]</span><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure></p>

<p><p>
  <strong>replicated/2</strong><br/>
  Creates a list of Items of length Times.
</p></p>

<p><figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="sx">% Generator: </span><span class="n">only</span> <span class="n">used</span> <span class="k">for</span> <span class="n">fixing</span> <span class="n">the</span> <span class="n">length</span>
</span><span class='line'><span class="sx">% Expression: </span><span class="n">a</span> <span class="n">fixed</span> <span class="n">item</span>
</span><span class='line'>
</span><span class='line'><span class="n">replicated</span><span class="p">(</span><span class="no">Item</span><span class="p">,</span> <span class="no">Times</span><span class="p">)</span> <span class="o">&ndash;&gt;</span>
</span><span class='line'>  <span class="o">[</span><span class="no">Item</span> <span class="o">||</span> <span class="n">_</span> <span class="o">&lt;&ndash;</span> <span class="ss">lists</span><span class="p">:</span><span class="n">seq</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="no">Times</span><span class="p">)</span><span class="o">].</span>
</span><span class='line'>
</span><span class='line'><span class="mi">1</span><span class="o">&gt;</span> <span class="ss">mylists</span><span class="p">:</span><span class="n">replicated</span><span class="p">(</span><span class="s1">&#39;:&ndash;)&#39;</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span><span class="o">.</span>
</span><span class='line'><span class="o">[</span><span class="s1">&#39;:&ndash;)&#39;</span><span class="p">,</span><span class="s1">&#39;:&ndash;)&#39;</span><span class="p">,</span><span class="s1">&#39;:&ndash;)&#39;</span><span class="p">,</span><span class="s1">&#39;:&ndash;)&#39;</span><span class="p">,</span><span class="s1">&#39;:&ndash;)&#39;</span><span class="p">,</span><span class="s1">&#39;:&ndash;)&#39;</span><span class="p">,</span><span class="s1">&#39;:&ndash;)&#39;</span><span class="p">,</span><span class="s1">&#39;:&ndash;)&#39;</span><span class="p">,</span><span class="s1">&#39;:&ndash;)&#39;</span><span class="p">,</span><span class="s1">&#39;:&ndash;)&#39;</span><span class="o">]</span>
</span></code></pre></td></tr></table></div></figure></p>

<p><p>
  <strong>replicate_items/2</strong><br/>
  Replicates each elements of the list Times times.
</p></p>

<p><figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">replicate_items</span><span class="p">(</span><span class="no">Times</span><span class="p">,</span> <span class="no">List</span><span class="p">)</span> <span class="o">&ndash;&gt;</span>
</span><span class='line'>  <span class="ss">mylists</span><span class="p">:</span><span class="n">flatten</span><span class="p">(</span><span class="o">[[</span><span class="no">Item</span> <span class="o">||</span> <span class="n">_</span> <span class="o">&lt;&ndash;</span> <span class="ss">lists</span><span class="p">:</span><span class="n">seq</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="no">Times</span><span class="p">)</span><span class="o">]</span> <span class="o">||</span> <span class="no">Item</span> <span class="o">&lt;&ndash;</span> <span class="no">List</span><span class="o">]</span><span class="p">)</span><span class="o">.</span>
</span><span class='line'>
</span><span class='line'><span class="sx">% same </span><span class="n">as</span>
</span><span class='line'><span class="sx">% replicate_items(Times, </span><span class="no">List</span><span class="p">)</span> <span class="o">&ndash;&gt;</span>
</span><span class='line'><span class="sx">%  </span> <span class="ss">mylists</span><span class="p">:</span><span class="n">flatten</span><span class="p">(</span><span class="o">[</span><span class="n">replicated</span><span class="p">(</span><span class="no">Item</span><span class="p">,</span> <span class="no">Times</span><span class="p">)</span> <span class="o">||</span> <span class="no">Item</span> <span class="o">&lt;&ndash;</span> <span class="no">List</span><span class="o">]</span><span class="p">)</span><span class="o">.</span>
</span><span class='line'>
</span><span class='line'><span class="mi">1</span><span class="o">&gt;</span> <span class="ss">mylists</span><span class="p">:</span><span class="n">replicate_items</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="o">[</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="o">]</span><span class="p">)</span><span class="o">.</span>
</span><span class='line'><span class="o">[</span><span class="n">a</span><span class="p">,</span><span class="n">a</span><span class="p">,</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="p">,</span><span class="n">c</span><span class="p">,</span><span class="n">c</span><span class="o">]</span>
</span></code></pre></td></tr></table></div></figure></p>

<p><p>
  <strong>member/2</strong><br/>
  Returns true if an element is a member of the list, else returns false.
</p></p>

<p><figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">member</span><span class="p">(</span><span class="no">Elem</span><span class="p">,</span> <span class="no">List</span><span class="p">)</span> <span class="o">&ndash;&gt;</span>
</span><span class='line'>  <span class="o">[]</span> <span class="o">/=</span> <span class="o">[</span><span class="n">ok</span> <span class="o">||</span> <span class="n">I</span> <span class="o">&lt;&ndash;</span> <span class="no">List</span><span class="p">,</span> <span class="n">I</span> <span class="o">==</span> <span class="no">Elem</span><span class="o">].</span>
</span><span class='line'>
</span><span class='line'><span class="mi">1</span><span class="o">&gt;</span> <span class="ss">mylists</span><span class="p">:</span><span class="n">member</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="o">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">z</span><span class="o">]</span><span class="p">)</span><span class="o">.</span>
</span><span class='line'><span class="kp">true</span>
</span><span class='line'><span class="mi">2</span><span class="o">&gt;</span> <span class="ss">mylists</span><span class="p">:</span><span class="n">member</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="o">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">aa</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">z</span><span class="o">]</span><span class="p">)</span><span class="o">.</span>
</span><span class='line'><span class="kp">false</span>
</span></code></pre></td></tr></table></div></figure></p>

<p><p>
  <strong>member_times/2</strong><br/>
  Returns the number of occurences of an element in a list.
</p></p>

<p><figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">member_times</span><span class="p">(</span><span class="no">Elem</span><span class="p">,</span> <span class="no">List</span><span class="p">)</span> <span class="o">&ndash;&gt;</span>
</span><span class='line'>  <span class="n">length</span><span class="p">(</span><span class="o">[</span><span class="n">ok</span> <span class="o">||</span> <span class="n">I</span> <span class="o">&lt;&ndash;</span> <span class="no">List</span><span class="p">,</span> <span class="n">I</span> <span class="o">==</span> <span class="no">Elem</span><span class="o">]</span><span class="p">)</span><span class="o">.</span>
</span><span class='line'>
</span><span class='line'><span class="mi">1</span><span class="o">&gt;</span> <span class="ss">mylists</span><span class="p">:</span><span class="n">member_times</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="o">[</span><span class="mi">1</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">c</span><span class="o">]</span><span class="p">)</span><span class="o">.</span>
</span><span class='line'><span class="mi">2</span>
</span><span class='line'><span class="mi">2</span><span class="o">&gt;</span> <span class="ss">mylists</span><span class="p">:</span><span class="n">member_times</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="o">[</span><span class="mi">1</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="o">]</span><span class="p">)</span><span class="o">.</span>
</span><span class='line'><span class="mi">1</span>
</span><span class='line'><span class="mi">3</span><span class="o">&gt;</span> <span class="ss">mylists</span><span class="p">:</span><span class="n">member_times</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="o">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="o">]</span><span class="p">)</span><span class="o">.</span>
</span><span class='line'><span class="mi">0</span>
</span></code></pre></td></tr></table></div></figure></p>

<p><p>
  <strong>quicksort/1</strong><br/>
  This is the famous Quicksort implementation that is often used to show the power and compactness of Erlang.
</p></p>

<p><figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">qsort</span><span class="p">(</span><span class="o">[]</span><span class="p">)</span> <span class="o">&ndash;&gt;</span>
</span><span class='line'>  <span class="o">[]</span><span class="p">;</span>
</span><span class='line'><span class="n">qsort</span><span class="p">(</span><span class="o">[</span><span class="no">Pivot</span> <span class="o">|</span> <span class="no">List</span><span class="o">]</span><span class="p">)</span> <span class="o">&ndash;&gt;</span>
</span><span class='line'>  <span class="n">qsort</span><span class="p">(</span><span class="o">[</span><span class="n">I</span> <span class="o">||</span> <span class="n">I</span> <span class="o">&lt;&ndash;</span> <span class="no">List</span><span class="p">,</span> <span class="n">I</span> <span class="o">&lt;</span> <span class="no">Pivot</span><span class="o">]</span><span class="p">)</span>
</span><span class='line'>  <span class="o">++</span>
</span><span class='line'>  <span class="o">[</span><span class="no">Pivot</span> <span class="o">|</span> <span class="n">qsort</span><span class="p">(</span><span class="o">[</span><span class="n">I</span> <span class="o">||</span> <span class="n">I</span> <span class="o">&lt;&ndash;</span> <span class="no">List</span><span class="p">,</span> <span class="n">I</span> <span class="o">&gt;=</span> <span class="no">Pivot</span><span class="o">]</span><span class="p">)</span><span class="o">].</span>
</span><span class='line'>
</span><span class='line'><span class="mi">1</span><span class="o">&gt;</span> <span class="ss">mylists</span><span class="p">:</span><span class="n">qsort</span><span class="p">(</span><span class="o">[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">5</span><span class="o">]</span><span class="p">)</span><span class="o">.</span>
</span><span class='line'><span class="o">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">9</span><span class="o">]</span>
</span></code></pre></td></tr></table></div></figure></p>

<p><p>
  <strong>Multiple Generators</strong><br/>
  Now I will present some examples with multiple generators.
</p></p>

<p><figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="mi">1</span><span class="o">&gt;</span> <span class="o">[</span><span class="p">{</span><span class="n">I</span><span class="p">,</span> <span class="n">J</span><span class="p">}</span> <span class="o">||</span> <span class="n">I</span> <span class="o">&lt;&ndash;</span> <span class="o">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="o">]</span><span class="p">,</span> <span class="n">J</span> <span class="o">&lt;&ndash;</span> <span class="o">[</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="o">]].</span>
</span><span class='line'><span class="o">[</span><span class="p">{</span><span class="mi">1</span><span class="p">,</span><span class="n">a</span><span class="p">},{</span><span class="mi">1</span><span class="p">,</span><span class="n">b</span><span class="p">},{</span><span class="mi">1</span><span class="p">,</span><span class="n">c</span><span class="p">},{</span><span class="mi">2</span><span class="p">,</span><span class="n">a</span><span class="p">},{</span><span class="mi">2</span><span class="p">,</span><span class="n">b</span><span class="p">},{</span><span class="mi">2</span><span class="p">,</span><span class="n">c</span><span class="p">},{</span><span class="mi">3</span><span class="p">,</span><span class="n">a</span><span class="p">},{</span><span class="mi">3</span><span class="p">,</span><span class="n">b</span><span class="p">},{</span><span class="mi">3</span><span class="p">,</span><span class="n">c</span><span class="p">}</span><span class="o">]</span>
</span><span class='line'>
</span><span class='line'><span class="sx">% duplicate </span><span class="n">list</span>
</span><span class='line'><span class="mi">2</span><span class="o">&gt;</span> <span class="o">[</span><span class="n">I</span> <span class="o">||</span> <span class="n"><em></span> <span class="o">&lt;&ndash;</span> <span class="o">[</span><span class="n">a</span><span class="p">,</span> <span class="n">a</span><span class="o">]</span><span class="p">,</span> <span class="n">I</span> <span class="o">&lt;&ndash;</span> <span class="o">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="o">]].</span>
</span><span class='line'><span class="o">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="o">]</span>
</span><span class='line'>
</span><span class='line'><span class="sx">% duplicate </span><span class="n">elements</span>
</span><span class='line'><span class="mi">3</span><span class="o">&gt;</span> <span class="o">[</span><span class="n">I</span> <span class="o">||</span> <span class="n">I</span> <span class="o">&lt;&ndash;</span> <span class="o">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="o">]</span><span class="p">,</span> <span class="n">J</span> <span class="o">&lt;&ndash;</span> <span class="o">[</span><span class="n">a</span><span class="p">,</span> <span class="n">a</span><span class="o">]].</span>
</span><span class='line'><span class="o">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="o">]</span>
</span><span class='line'>
</span><span class='line'><span class="sx">% discard </span><span class="n">elements</span> <span class="ow">and</span> <span class="n">duplicate</span> <span class="n">the</span> <span class="n">others</span>
</span><span class='line'><span class="mi">4</span><span class="o">&gt;</span> <span class="no">Discard</span> <span class="o">=</span> <span class="o">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="o">].</span>
</span><span class='line'><span class="o">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="o">]</span>
</span><span class='line'><span class="mi">5</span><span class="o">&gt;</span> <span class="o">[</span><span class="n">I</span> <span class="o">||</span> <span class="n">I</span> <span class="o">&lt;&ndash;</span> <span class="o">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="o">]</span><span class="p">,</span> <span class="ow">not</span><span class="p">(</span><span class="ss">lists</span><span class="p">:</span><span class="n">member</span><span class="p">(</span><span class="n">I</span><span class="p">,</span> <span class="no">Discard</span><span class="p">)),</span> <span class="n"></em></span> <span class="o">&lt;&ndash;</span> <span class="o">[</span><span class="n">a</span><span class="p">,</span> <span class="n">a</span><span class="o">]].</span>
</span><span class='line'><span class="o">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">6</span><span class="o">]</span>
</span><span class='line'>
</span><span class='line'><span class="sx">% subsequences</span>
</span><span class='line'><span class="sx">8&gt; </span><span class="o">[[</span><span class="n">I</span> <span class="o">||</span> <span class="n">I</span> <span class="o">&lt;&ndash;</span> <span class="ss">lists</span><span class="p">:</span><span class="n">seq</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">J</span><span class="p">)</span><span class="o">]</span> <span class="o">||</span> <span class="n">J</span> <span class="o">&lt;&ndash;</span> <span class="ss">lists</span><span class="p">:</span><span class="n">seq</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span><span class="o">].</span>
</span><span class='line'><span class="o">[[</span><span class="mi">1</span><span class="o">]</span><span class="p">,</span>
</span><span class='line'> <span class="o">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="o">]</span><span class="p">,</span>
</span><span class='line'> <span class="o">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="o">]</span><span class="p">,</span>
</span><span class='line'> <span class="o">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="o">]</span><span class="p">,</span>
</span><span class='line'> <span class="o">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="o">]</span><span class="p">,</span>
</span><span class='line'> <span class="o">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="o">]</span><span class="p">,</span>
</span><span class='line'> <span class="o">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="o">]</span><span class="p">,</span>
</span><span class='line'> <span class="o">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="o">]</span><span class="p">,</span>
</span><span class='line'> <span class="o">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">9</span><span class="o">]</span><span class="p">,</span>
</span><span class='line'> <span class="o">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">10</span><span class="o">]]</span>
</span></code></pre></td></tr></table></div></figure></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/01/22/erlang-list-and-list-module/">Erlang List &amp; List Module</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2015-01-22T23:01:00+07:00" pubdate data-updated="true">Jan 22<span>nd</span>, 2015</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>
  <img src="/images/logo_erlang.png" alt="Erlang Control Flow Statement" />
</p>




<p>
  List is the the most important data type in Erlang, as in every functional programming language. In this article, I will present the Erlang’s lists module and its most important functions.
</p>




<p>
  <h3>Syntax</h3>
</p>




<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="o">[</span><span class="no">Element1</span><span class="p">,</span> <span class="no">Element2</span><span class="p">,</span> <span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">,</span> <span class="no">ElementN</span><span class="o">]</span>
</span></code></pre></td></tr></table></div></figure>




<p>
  N is called the length of the list. So, [] is the empty list.
</p>




<p>
  <h3>Decomposing & Pattern Matching</h3>
</p>




<p>
  An empty list pattern matches with [].
</p>




<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="mi">1</span><span class="o">&gt;</span> <span class="no">Empty</span> <span class="o">=</span> <span class="o">[].</span>
</span><span class='line'><span class="o">[]</span>
</span><span class='line'><span class="mi">2</span><span class="o">&gt;</span> <span class="no">Empty</span> <span class="o">==</span> <span class="o">[].</span>
</span><span class='line'><span class="kp">true</span>
</span><span class='line'><span class="mi">3</span><span class="o">&gt;</span> <span class="no">Empty</span> <span class="o">=</span> <span class="o">[].</span>
</span><span class='line'><span class="o">[]</span>
</span><span class='line'><span class="mi">4</span><span class="o">&gt;</span> <span class="no">NotEmpty</span> <span class="o">=</span> <span class="o">[</span><span class="mi">1</span><span class="o">].</span>
</span><span class='line'><span class="o">[</span><span class="mi">1</span><span class="o">]</span>
</span><span class='line'><span class="mi">5</span><span class="o">&gt;</span> <span class="no">Empty</span> <span class="o">==</span> <span class="no">NotEmpty</span><span class="o">.</span>
</span><span class='line'><span class="kp">false</span>
</span><span class='line'><span class="mi">6</span><span class="o">&gt;</span> <span class="no">Empty</span> <span class="o">=</span> <span class="no">NotEmpty</span><span class="o">.</span>
</span><span class='line'><span class="o">**</span> <span class="n">exception</span> <span class="ss">error</span><span class="p">:</span> <span class="n">no</span> <span class="n">match</span> <span class="n">of</span> <span class="n">right</span> <span class="n">hand</span> <span class="n">side</span> <span class="n">value</span> <span class="o">[</span><span class="mi">1</span><span class="o">]</span>
</span></code></pre></td></tr></table></div></figure>




<p>
  A non-empty list pattern matches with [Head | Tail].
</p>




<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="mi">1</span><span class="o">&gt;</span> <span class="o">[</span><span class="no">Head</span> <span class="o">|</span> <span class="no">Tail</span><span class="o">]</span> <span class="o">=</span> <span class="o">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="o">].</span>
</span><span class='line'><span class="o">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="o">]</span>
</span><span class='line'><span class="mi">2</span><span class="o">&gt;</span> <span class="no">Head</span><span class="o">.</span>
</span><span class='line'><span class="mi">1</span>
</span><span class='line'><span class="mi">3</span><span class="o">&gt;</span> <span class="no">Tail</span><span class="o">.</span>
</span><span class='line'><span class="o">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="o">]</span>
</span><span class='line'><span class="mi">4</span><span class="o">&gt;</span> <span class="o">[</span><span class="no">Head1</span> <span class="o">|</span> <span class="no">Tail1</span><span class="o">]</span> <span class="o">=</span> <span class="no">Tail</span><span class="o">.</span>
</span><span class='line'><span class="o">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="o">]</span>
</span><span class='line'><span class="mi">5</span><span class="o">&gt;</span> <span class="no">Head1</span><span class="o">.</span>
</span><span class='line'><span class="mi">2</span>
</span><span class='line'><span class="mi">6</span><span class="o">&gt;</span> <span class="no">Tail1</span><span class="o">.</span>
</span><span class='line'><span class="o">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="o">]</span>
</span><span class='line'><span class="mi">7</span><span class="o">&gt;</span> <span class="o">[</span><span class="no">Head2</span> <span class="o">|</span> <span class="no">Tail2</span><span class="o">]</span> <span class="o">=</span> <span class="o">[].</span>
</span><span class='line'><span class="o">**</span> <span class="n">exception</span> <span class="ss">error</span><span class="p">:</span> <span class="n">no</span> <span class="n">match</span> <span class="n">of</span> <span class="n">right</span> <span class="n">hand</span> <span class="n">side</span> <span class="n">value</span> <span class="o">[]</span>
</span></code></pre></td></tr></table></div></figure>




<p>
  <strong>Normal Representation</strong><br/>
  The format [Element1, Element2, &#8230;, ElementN] is a shorthand of [Element1 | [Element2 | &#8230; | [ElementN | []] &#8230; ] representation.<br/>
  Example: the list [1, 2, 3] is a shorthand of [1 | [2 | 3 | []]], that is the normal representation of a list.
</p>




<p>
  Decomposing:
</p>




<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="mi">1</span><span class="o">&gt;</span> <span class="o">[</span><span class="n">A</span> <span class="o">|</span> <span class="o">[</span><span class="n">B</span> <span class="o">|[</span><span class="n">C</span> <span class="o">|</span> <span class="n">D</span><span class="o">]]]</span> <span class="o">=</span> <span class="o">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="o">].</span>
</span><span class='line'><span class="o">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="o">]</span>
</span><span class='line'><span class="mi">2</span><span class="o">&gt;</span> <span class="n">A</span><span class="o">.</span>
</span><span class='line'><span class="mi">1</span>
</span><span class='line'><span class="mi">3</span><span class="o">&gt;</span> <span class="n">B</span><span class="o">.</span>
</span><span class='line'><span class="mi">2</span>
</span><span class='line'><span class="mi">4</span><span class="o">&gt;</span> <span class="n">C</span><span class="o">.</span>
</span><span class='line'><span class="mi">3</span>
</span><span class='line'><span class="mi">5</span><span class="o">&gt;</span> <span class="n">D</span><span class="o">.</span>
</span><span class='line'><span class="o">[]</span>
</span></code></pre></td></tr></table></div></figure>




<p>
  Composing:
</p>




<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="mi">1</span><span class="o">&gt;</span> <span class="no">List</span> <span class="o">=</span> <span class="o">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="o">].</span>
</span><span class='line'><span class="o">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="o">]</span>
</span><span class='line'><span class="mi">2</span><span class="o">&gt;</span> <span class="no">List1</span> <span class="o">=</span> <span class="o">[</span><span class="mi">1</span> <span class="o">|</span> <span class="no">List</span><span class="o">].</span>
</span><span class='line'><span class="o">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="o">]</span>
</span><span class='line'><span class="mi">3</span><span class="o">&gt;</span> <span class="no">List2</span> <span class="o">=</span> <span class="o">[-</span><span class="mi">1</span> <span class="o">|</span> <span class="o">[</span><span class="mi">0</span> <span class="o">|</span> <span class="no">List1</span><span class="o">]].</span>
</span><span class='line'><span class="o">[-</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="o">]</span>
</span><span class='line'><span class="mi">4</span><span class="o">&gt;</span> <span class="no">List3</span> <span class="o">=</span> <span class="o">[[-</span><span class="mi">3</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="o">]</span> <span class="o">|</span> <span class="no">List2</span><span class="o">].</span>
</span><span class='line'><span class="o">[[-</span><span class="mi">3</span><span class="p">,</span><span class="o">-</span><span class="mi">2</span><span class="o">]</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="o">]</span> <span class="o">%</span> <span class="n">the</span> <span class="n">head</span> <span class="n">is</span> <span class="n">just</span> <span class="mi">1</span> <span class="n">element</span>
</span></code></pre></td></tr></table></div></figure>




<p>
  Of course, since it is more readable and easier to write, the shorthand representation is usually used: 
</p>




<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="mi">1</span><span class="o">&gt;</span> <span class="o">[</span><span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">,</span> <span class="n">C</span><span class="o">]</span> <span class="o">=</span> <span class="o">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="o">].</span>
</span><span class='line'><span class="o">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="o">]</span>
</span><span class='line'><span class="mi">2</span><span class="o">&gt;</span> <span class="o">[</span><span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">,</span> <span class="n">C</span><span class="p">,</span> <span class="n">D</span><span class="o">]</span> <span class="o">=</span> <span class="o">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="o">].</span> <span class="o">%</span> <span class="n">does</span> <span class="ow">not</span> <span class="n">match</span> <span class="n">cause</span>
</span><span class='line'><span class="sx">% the </span><span class="n">left</span><span class="o">-</span><span class="n">hand</span> <span class="n">side</span> <span class="n">matches</span> <span class="n">a</span> <span class="mi">4</span><span class="o">-</span><span class="n">elements</span> <span class="n">list</span>
</span><span class='line'><span class="o">**</span> <span class="n">exception</span> <span class="ss">error</span><span class="p">:</span> <span class="n">no</span> <span class="n">match</span> <span class="n">of</span> <span class="n">right</span> <span class="n">hand</span> <span class="n">side</span> <span class="n">value</span> <span class="o">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="o">]</span>
</span><span class='line'><span class="mi">3</span><span class="o">&gt;</span> <span class="o">[</span><span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">,</span> <span class="n">C</span> <span class="o">|</span> <span class="n">D</span><span class="o">]</span> <span class="o">=</span> <span class="o">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="o">].</span>
</span><span class='line'><span class="o">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="o">]</span>
</span><span class='line'><span class="mi">4</span><span class="o">&gt;</span> <span class="n">D</span><span class="o">.</span>
</span><span class='line'><span class="o">[]</span>
</span><span class='line'><span class="mi">5</span><span class="o">&gt;</span> <span class="o">[-</span><span class="mi">3</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span> <span class="o">|</span> <span class="o">[-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="o">|</span> <span class="o">[</span><span class="mi">1</span> <span class="o">|</span> <span class="o">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="o">]]]].</span>
</span><span class='line'><span class="o">[-</span><span class="mi">3</span><span class="p">,</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="o">]</span>
</span></code></pre></td></tr></table></div></figure>




<p>
  <strong>List Parsing</strong><br/>
  The pattern matching you saw before can be used in a function in order to parse the list:
</p>




<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">parse</span><span class="p">(</span><span class="o">[]</span><span class="p">)</span> <span class="o">-&gt;</span>
</span><span class='line'>  <span class="n">parsed</span><span class="o">.</span>
</span><span class='line'><span class="n">parse</span><span class="p">(</span><span class="o">[</span><span class="no">Head</span> <span class="o">|</span> <span class="no">Tail</span><span class="o">]</span><span class="p">)</span> <span class="o">-&gt;</span>
</span><span class='line'>  <span class="n">parse</span><span class="p">(</span><span class="no">Tail</span><span class="p">)</span><span class="o">.</span>
</span></code></pre></td></tr></table></div></figure>




<p>
  <strong>Concatenation</strong><br/>
  Two lists can be concatenated using ++:
</p>




<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="mi">1</span><span class="o">&gt;</span> <span class="no">L1</span> <span class="o">=</span> <span class="o">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="o">]</span><span class="p">,</span> <span class="no">L2</span> <span class="o">=</span> <span class="o">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="o">].</span>
</span><span class='line'><span class="o">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="o">]</span>
</span><span class='line'><span class="mi">2</span><span class="o">&gt;</span> <span class="no">L1</span> <span class="o">++</span> <span class="no">L2</span><span class="o">.</span>
</span><span class='line'><span class="o">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="o">]</span>
</span><span class='line'><span class="mi">3</span><span class="o">&gt;</span> <span class="no">L1</span> <span class="o">++</span> <span class="no">L2</span> <span class="o">++</span> <span class="no">L1</span><span class="o">.</span>
</span><span class='line'><span class="o">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="o">]</span>
</span><span class='line'><span class="mi">4</span><span class="o">&gt;</span> <span class="no">Mirror</span> <span class="o">=</span> <span class="n">fun</span><span class="p">(</span><span class="no">List</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="no">List</span> <span class="o">++</span> <span class="ss">lists</span><span class="p">:</span><span class="n">reverse</span><span class="p">(</span><span class="no">List</span><span class="p">)</span> <span class="k">end</span><span class="o">.</span>
</span><span class='line'><span class="c1">#Fun&lt;erl_eval .6.13229925&gt;</span>
</span><span class='line'><span class="mi">5</span><span class="o">&gt;</span> <span class="no">Mirror</span><span class="p">(</span><span class="o">[</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="p">{</span><span class="n">c</span><span class="p">}</span><span class="o">]</span><span class="p">)</span><span class="o">.</span>
</span><span class='line'><span class="o">[</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,{</span><span class="n">c</span><span class="p">},{</span><span class="n">c</span><span class="p">},</span><span class="n">b</span><span class="p">,</span><span class="n">a</span><span class="o">]</span>
</span></code></pre></td></tr></table></div></figure>




<p>
  <strong>Difference</strong><br/>
  You can take the difference of two lists (the left-hand side one without the element of the right-hand side) using the &#8211; operator:
</p>




<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="mi">1</span><span class="o">&gt;</span> <span class="o">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="o">]</span> <span class="o">--</span> <span class="o">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="o">].</span>
</span><span class='line'><span class="o">[]</span>
</span><span class='line'><span class="mi">2</span><span class="o">&gt;</span> <span class="o">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="o">]</span> <span class="o">--</span> <span class="o">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="o">].</span>
</span><span class='line'><span class="o">[</span><span class="mi">2</span><span class="o">]</span>
</span><span class='line'><span class="mi">3</span><span class="o">&gt;</span> <span class="o">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="o">]</span> <span class="o">--</span> <span class="o">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="o">].</span>
</span><span class='line'><span class="o">[</span><span class="mi">2</span><span class="o">]</span>
</span><span class='line'><span class="mi">4</span><span class="o">&gt;</span> <span class="o">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="o">]</span> <span class="o">--</span> <span class="o">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="o">].</span>
</span><span class='line'><span class="o">[</span><span class="mi">2</span><span class="o">]</span>
</span><span class='line'><span class="mi">5</span><span class="o">&gt;</span> <span class="o">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="o">]</span> <span class="o">--</span> <span class="o">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="o">].</span>
</span><span class='line'><span class="o">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="o">]</span>
</span><span class='line'><span class="mi">6</span><span class="o">&gt;</span> <span class="o">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="o">]</span> <span class="o">--</span> <span class="o">[</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="o">].</span>
</span><span class='line'><span class="o">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="o">]</span>
</span><span class='line'><span class="mi">7</span><span class="o">&gt;</span> <span class="no">Delete</span> <span class="o">=</span> <span class="n">fun</span><span class="p">(</span><span class="no">List</span><span class="p">,</span> <span class="no">Element</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="no">List</span> <span class="o">--</span> <span class="o">[</span><span class="no">Element</span><span class="o">]</span> <span class="k">end</span><span class="o">.</span>
</span><span class='line'><span class="c1">#Fun&lt;erl_eval .12.113037538&gt;</span>
</span><span class='line'><span class="mi">8</span><span class="o">&gt;</span> <span class="no">Delete</span><span class="p">(</span><span class="o">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">1</span><span class="o">]</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span><span class="o">.</span>
</span><span class='line'><span class="o">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">1</span><span class="o">]</span>
</span></code></pre></td></tr></table></div></figure>




<p>
  <h3>Module Lists</h3>
</p>




<p>
  The lists module defines some commonly used list processing functions. This module is extremely useful, so it is a good idea to “remember” what functions it provides.
</p>




<p>
  <strong>all/2</strong><br/>
  Called as all(Pred, List). Returns true if Pred(Element) returns true for all lists’ elements.
</p>




<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="mi">1</span><span class="o">&gt;</span> <span class="n">L</span> <span class="o">=</span> <span class="o">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">8</span><span class="o">]</span><span class="p">,</span>
</span><span class='line'><span class="mi">1</span><span class="o">&gt;</span> <span class="n">F</span> <span class="o">=</span> <span class="n">fun</span><span class="p">(</span><span class="n">X</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">X</span> <span class="n">rem</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span> <span class="k">end</span><span class="p">,</span>
</span><span class='line'><span class="mi">1</span><span class="o">&gt;</span> <span class="ss">lists</span><span class="p">:</span><span class="n">all</span><span class="p">(</span><span class="n">F</span><span class="p">,</span> <span class="n">L</span><span class="p">)</span><span class="o">.</span>
</span><span class='line'><span class="kp">true</span>
</span><span class='line'><span class="mi">2</span><span class="o">&gt;</span> <span class="n">f</span><span class="p">()</span><span class="o">.</span>
</span><span class='line'><span class="n">ok</span>
</span><span class='line'><span class="mi">3</span><span class="o">&gt;</span> <span class="n">L</span> <span class="o">=</span> <span class="o">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">8</span><span class="o">]</span><span class="p">,</span>
</span><span class='line'><span class="mi">3</span><span class="o">&gt;</span> <span class="n">F</span> <span class="o">=</span> <span class="n">fun</span><span class="p">(</span><span class="n">X</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">X</span> <span class="n">rem</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span> <span class="k">end</span><span class="p">,</span>
</span><span class='line'><span class="mi">3</span><span class="o">&gt;</span> <span class="ss">lists</span><span class="p">:</span><span class="n">all</span><span class="p">(</span><span class="n">F</span><span class="p">,</span> <span class="n">L</span><span class="p">)</span><span class="o">.</span>
</span><span class='line'><span class="kp">false</span>
</span></code></pre></td></tr></table></div></figure>




<p>
  <strong>append/1|2</strong><br/>
  Concatenates the lists to one.
</p>




<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="mi">1</span><span class="o">&gt;</span> <span class="ss">lists</span><span class="p">:</span><span class="n">append</span><span class="p">(</span><span class="o">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="o">]</span><span class="p">,</span> <span class="o">[</span><span class="mi">3</span><span class="o">]</span><span class="p">,</span> <span class="o">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="o">]]</span><span class="p">)</span><span class="o">.</span>
</span><span class='line'><span class="o">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="o">]</span>
</span><span class='line'><span class="mi">2</span><span class="o">&gt;</span> <span class="ss">lists</span><span class="p">:</span><span class="n">append</span><span class="p">(</span><span class="o">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="o">]</span><span class="p">,</span> <span class="o">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="o">]</span><span class="p">)</span><span class="o">.</span>
</span><span class='line'><span class="o">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="o">]</span>
</span></code></pre></td></tr></table></div></figure>




<p>
  Notice that the operator ++ and the function append/2 are the same.
</p>




<p>
  <strong>delete/2</strong><br/>
  Deletes an element from the list (first occurrence, if any).
</p>




<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="mi">1</span><span class="o">&gt;</span> <span class="ss">lists</span><span class="p">:</span><span class="n">delete</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="o">[</span><span class="n">d</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">d</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">d</span><span class="o">]</span><span class="p">)</span><span class="o">.</span>
</span><span class='line'><span class="o">[</span><span class="n">d</span><span class="p">,</span><span class="n">d</span><span class="p">,</span><span class="n">a</span><span class="p">,</span><span class="n">d</span><span class="o">]</span>
</span></code></pre></td></tr></table></div></figure>




<p>
  <strong>concat/1</strong><br/>
  Accepts a list of items (atom, integer, float, string) and returns the concatenation of their textual representation as a list.
</p>




<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="mi">1</span><span class="o">&gt;</span> <span class="ss">lists</span><span class="p">:</span><span class="n">concat</span><span class="p">(</span><span class="o">[</span><span class="s2">&quot;ab&quot;</span><span class="p">,</span> <span class="s1">&#39;.&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="o">]</span><span class="p">)</span><span class="o">.</span>
</span><span class='line'><span class="s2">&quot;ab.1&quot;</span>
</span></code></pre></td></tr></table></div></figure>




<p>
  <strong>filter/2</strong><br/>
  Called as filter(Pred, List). Returns a list containing only the elements that return true for the Pred.
</p>




<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="mi">1</span><span class="o">&gt;</span> <span class="no">Gt10</span> <span class="o">=</span> <span class="n">fun</span><span class="p">(</span><span class="n">X</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">X</span> <span class="o">&gt;</span> <span class="mi">10</span> <span class="k">end</span><span class="p">,</span> <span class="ss">lists</span><span class="p">:</span><span class="n">filter</span><span class="p">(</span><span class="no">Gt10</span><span class="p">,</span> <span class="o">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">22</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">44</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">66</span><span class="o">]</span><span class="p">)</span><span class="o">.</span>
</span><span class='line'><span class="o">[</span><span class="mi">22</span><span class="p">,</span><span class="mi">44</span><span class="p">,</span><span class="mi">66</span><span class="o">]</span>
</span><span class='line'><span class="mi">2</span><span class="o">&gt;</span> <span class="n">L</span> <span class="o">=</span> <span class="o">[</span><span class="mi">1</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="mi">3</span><span class="o">.</span><span class="mi">0</span><span class="p">,</span> <span class="n">d</span><span class="p">,</span> <span class="p">{</span><span class="mi">4</span><span class="p">}</span><span class="o">].</span>
</span><span class='line'><span class="o">[</span><span class="mi">1</span><span class="p">,</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="n">c</span><span class="p">,</span><span class="mi">3</span><span class="o">.</span><span class="mi">0</span><span class="p">,</span><span class="n">d</span><span class="p">,{</span><span class="mi">4</span><span class="p">}</span><span class="o">]</span>
</span><span class='line'><span class="mi">3</span><span class="o">&gt;</span> <span class="ss">lists</span><span class="p">:</span><span class="n">filter</span><span class="p">(</span><span class="n">fun</span><span class="p">(</span><span class="n">X</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">is_number</span><span class="p">(</span><span class="n">X</span><span class="p">)</span> <span class="k">end</span><span class="p">,</span> <span class="n">L</span><span class="p">)</span><span class="o">.</span>
</span><span class='line'><span class="o">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="o">.</span><span class="mi">0</span><span class="o">]</span>
</span></code></pre></td></tr></table></div></figure>




<p>
  <strong>flatten/1</strong><br/>
  Returns a flattened (no element is a list) version of the input list.
</p>




<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="mi">1</span><span class="o">&gt;</span> <span class="ss">lists</span><span class="p">:</span><span class="n">flatten</span><span class="p">(</span><span class="o">[</span><span class="mi">1</span><span class="p">,</span> <span class="o">[</span><span class="mi">2</span><span class="o">]</span><span class="p">,</span> <span class="o">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="o">[</span><span class="mi">5</span><span class="p">,</span> <span class="o">[</span><span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="o">]]]</span><span class="p">,</span> <span class="o">[[[[</span><span class="mi">8</span><span class="o">]]]]]</span><span class="p">)</span><span class="o">.</span>
</span><span class='line'><span class="o">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="o">]</span>
</span></code></pre></td></tr></table></div></figure>




<p>
  <strong>key*** functions</strong><br/>
  There are several functions which their name starts with the word &#8220;key&#8221;. They are all used to process lists of tuples.
</p>




<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="mi">1</span><span class="o">&gt;</span> <span class="no">Kl</span> <span class="o">=</span> <span class="o">[</span><span class="p">{</span><span class="n">a</span><span class="p">,</span> <span class="n">k1</span><span class="p">,</span> <span class="n">a</span><span class="p">},</span> <span class="p">{</span><span class="n">b</span><span class="p">,</span> <span class="n">k2</span><span class="p">,</span> <span class="n">b</span><span class="p">},</span> <span class="p">{</span><span class="n">c</span><span class="p">,</span> <span class="n">k3</span><span class="p">,</span> <span class="n">c</span><span class="p">},</span> <span class="p">{</span><span class="n">e</span><span class="p">,</span> <span class="n">k5</span><span class="p">,</span> <span class="n">e</span><span class="p">}</span><span class="o">].</span>
</span><span class='line'><span class="o">[</span><span class="p">{</span><span class="n">a</span><span class="p">,</span><span class="n">k1</span><span class="p">,</span><span class="n">a</span><span class="p">},{</span><span class="n">b</span><span class="p">,</span><span class="n">k2</span><span class="p">,</span><span class="n">b</span><span class="p">},{</span><span class="n">c</span><span class="p">,</span><span class="n">k3</span><span class="p">,</span><span class="n">c</span><span class="p">},{</span><span class="n">e</span><span class="p">,</span><span class="n">k5</span><span class="p">,</span><span class="n">e</span><span class="p">}</span><span class="o">]</span>
</span><span class='line'><span class="mi">2</span><span class="o">&gt;</span> <span class="ss">lists</span><span class="p">:</span><span class="n">keydelete</span><span class="p">(</span><span class="n">k3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="no">Kl</span><span class="p">)</span><span class="o">.</span>
</span><span class='line'><span class="o">[</span><span class="p">{</span><span class="n">a</span><span class="p">,</span><span class="n">k1</span><span class="p">,</span><span class="n">a</span><span class="p">},{</span><span class="n">b</span><span class="p">,</span><span class="n">k2</span><span class="p">,</span><span class="n">b</span><span class="p">},{</span><span class="n">e</span><span class="p">,</span><span class="n">k5</span><span class="p">,</span><span class="n">e</span><span class="p">}</span><span class="o">]</span>
</span><span class='line'><span class="mi">3</span><span class="o">&gt;</span> <span class="ss">lists</span><span class="p">:</span><span class="n">keysearch</span><span class="p">(</span><span class="n">k3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="no">Kl</span><span class="p">)</span><span class="o">.</span>
</span><span class='line'><span class="p">{</span><span class="n">value</span><span class="p">,{</span><span class="n">c</span><span class="p">,</span><span class="n">k3</span><span class="p">,</span><span class="n">c</span><span class="p">}}</span>
</span><span class='line'><span class="mi">4</span><span class="o">&gt;</span> <span class="ss">lists</span><span class="p">:</span><span class="n">keysearch</span><span class="p">(</span><span class="n">k4</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="no">Kl</span><span class="p">)</span><span class="o">.</span>
</span><span class='line'><span class="kp">false</span>
</span><span class='line'><span class="mi">5</span><span class="o">&gt;</span> <span class="ss">lists</span><span class="p">:</span><span class="n">keyreplace</span><span class="p">(</span><span class="n">k3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="no">Kl</span><span class="p">,</span> <span class="p">{</span><span class="kp">new</span><span class="p">,</span> <span class="n">tuple</span><span class="p">})</span><span class="o">.</span>
</span><span class='line'><span class="o">[</span><span class="p">{</span><span class="n">a</span><span class="p">,</span><span class="n">k1</span><span class="p">,</span><span class="n">a</span><span class="p">},{</span><span class="n">b</span><span class="p">,</span><span class="n">k2</span><span class="p">,</span><span class="n">b</span><span class="p">},{</span><span class="kp">new</span><span class="p">,</span><span class="n">tuple</span><span class="p">},{</span><span class="n">e</span><span class="p">,</span><span class="n">k5</span><span class="p">,</span><span class="n">e</span><span class="p">}</span><span class="o">]</span>
</span></code></pre></td></tr></table></div></figure>




<p>
  <strong>last/1</strong><br/>
  Returns the last element of the list.
</p>




<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="mi">1</span><span class="o">&gt;</span> <span class="ss">lists</span><span class="p">:</span><span class="n">last</span><span class="p">(</span><span class="o">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="o">]</span><span class="p">)</span><span class="o">.</span>
</span><span class='line'><span class="mi">3</span>
</span></code></pre></td></tr></table></div></figure>




<p>
  <strong>map/2</strong><br/>
  Called as map(Fun, List). Applies function Fun to every item of the list and returns the resulting list.
</p>




<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="mi">1</span><span class="o">&gt;</span> <span class="ss">lists</span><span class="p">:</span><span class="n">map</span><span class="p">(</span><span class="n">fun</span><span class="p">(</span><span class="n">I</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">I</span> <span class="k">end</span><span class="p">,</span> <span class="o">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="o">]</span><span class="p">)</span><span class="o">.</span>
</span><span class='line'><span class="o">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">6</span><span class="o">]</span>
</span></code></pre></td></tr></table></div></figure>




<p>
  <strong>partition/2</strong><br/>
  Partitions a list to two according to if the elements satisfy or not a given predicate.
</p>




<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="mi">1</span><span class="o">&gt;</span> <span class="ss">lists</span><span class="p">:</span><span class="n">map</span><span class="p">(</span><span class="n">fun</span><span class="p">(</span><span class="n">I</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">I</span> <span class="k">end</span><span class="p">,</span> <span class="o">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="o">]</span><span class="p">)</span><span class="o">.</span>
</span><span class='line'><span class="o">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">6</span><span class="o">]</span>
</span></code></pre></td></tr></table></div></figure>




<p>
  <strong>reverse/1|2</strong><br/>
  Returns the reverse of a list.
</p>




<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="mi">1</span><span class="o">&gt;</span> <span class="ss">lists</span><span class="p">:</span><span class="n">reverse</span><span class="p">(</span><span class="o">[</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="n">d</span><span class="o">]</span><span class="p">)</span><span class="o">.</span>
</span><span class='line'><span class="o">[</span><span class="n">d</span><span class="p">,</span><span class="n">c</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">a</span><span class="o">]</span>
</span><span class='line'><span class="mi">2</span><span class="o">&gt;</span> <span class="ss">lists</span><span class="p">:</span><span class="n">reverse</span><span class="p">(</span><span class="o">[</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="n">d</span><span class="o">]</span><span class="p">,</span> <span class="o">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="o">]</span><span class="p">)</span><span class="o">.</span>
</span><span class='line'><span class="o">[</span><span class="n">d</span><span class="p">,</span><span class="n">c</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">a</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="o">]</span>
</span></code></pre></td></tr></table></div></figure>




<p>
  <strong>sort/1|2</strong><br/>
  Sorts a list to increasing order or according to a given function.
</p>




<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="mi">1</span><span class="o">&gt;</span> <span class="n">L</span> <span class="o">=</span> <span class="o">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">4</span><span class="o">].</span>
</span><span class='line'><span class="o">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">4</span><span class="o">]</span>
</span><span class='line'><span class="mi">2</span><span class="o">&gt;</span> <span class="ss">lists</span><span class="p">:</span><span class="n">sort</span><span class="p">(</span><span class="n">L</span><span class="p">)</span><span class="o">.</span>
</span><span class='line'><span class="o">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="o">]</span>
</span><span class='line'><span class="mi">3</span><span class="o">&gt;</span> <span class="no">Gt</span> <span class="o">=</span> <span class="n">fun</span><span class="p">(</span><span class="n">I</span><span class="p">,</span> <span class="n">J</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">I</span> <span class="o">&gt;</span> <span class="n">J</span> <span class="k">end</span><span class="o">.</span>
</span><span class='line'><span class="c1">#Fun&lt;erl_eval .12.113037538&gt;</span>
</span><span class='line'><span class="mi">4</span><span class="o">&gt;</span> <span class="ss">lists</span><span class="p">:</span><span class="n">sort</span><span class="p">(</span><span class="no">Gt</span><span class="p">,</span> <span class="n">L</span><span class="p">)</span><span class="o">.</span>
</span><span class='line'><span class="o">[</span><span class="mi">5</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="o">]</span>
</span></code></pre></td></tr></table></div></figure>




<p>
  <strong>sum/1</strong><br/>
  Returns the sum of the elements of a list containing numbers.
</p>




<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="mi">1</span><span class="o">&gt;</span> <span class="ss">lists</span><span class="p">:</span><span class="n">sum</span><span class="p">(</span><span class="o">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="o">.</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="o">]</span><span class="p">)</span><span class="o">.</span>
</span><span class='line'><span class="mi">6</span><span class="o">.</span><span class="mi">2</span>
</span></code></pre></td></tr></table></div></figure>




<p>
  <strong>u*** functions</strong><br/>
  There are several function which their name starts with &#8220;u&#8221; and the results they return contain no duplicates.
</p>




<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="mi">1</span><span class="o">&gt;</span> <span class="ss">lists</span><span class="p">:</span><span class="n">usort</span><span class="p">(</span><span class="o">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="o">]</span><span class="p">)</span><span class="o">.</span>
</span><span class='line'><span class="o">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="o">]</span>
</span></code></pre></td></tr></table></div></figure>



</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/01/20/erlang-control-flow-statement/">Erlang Control Flow Statement</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2015-01-20T23:17:00+07:00" pubdate data-updated="true">Jan 20<span>th</span>, 2015</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>
  <img src="/images/logo_erlang.png" alt="Erlang Control Flow Statement" />
</p>




<p>
  As we saw in the previous post, pattern matching with different function clauses can be used in order to control the execution flow in Erlang. Erlang also provides the if, case, and receive control flow constructs that can be used in a function body. In this post I will only present the if and casestatements since receive is used for message passing and I will write a dedicated post about the subject. Both if and case are similar to the statements of other programming languages.
</p>




<p>
  <strong>If Statement</strong>
</p>




<p>
  Syntax:
</p>




<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">if</span>
</span><span class='line'>  <span class="no">BoolbeanExpression1</span> <span class="o">-&gt;</span>
</span><span class='line'>    <span class="no">IfBody1</span><span class="p">;</span>
</span><span class='line'>  <span class="no">BooleanExpression2</span> <span class="o">-&gt;</span>
</span><span class='line'>    <span class="no">IfBody2</span><span class="p">;</span>
</span><span class='line'>    <span class="o">.</span><span class="n">.</span><span class="o">.</span>
</span><span class='line'>  <span class="kp">true</span> <span class="o">-&gt;</span>
</span><span class='line'>    <span class="no">BodyCathAll</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>




<p>
  The different clauses, except the last one are like &#8220;else if&#8221; in other languages, while the last one (true ->) is like the &#8220;else&#8221;; it succeeds when all the previous clauses have failed.
</p>




<p>
  Example:
</p>




<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">is_greater_than</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">Y</span><span class="p">)</span> <span class="o">-&gt;</span>
</span><span class='line'>  <span class="k">if</span>
</span><span class='line'>    <span class="n">X</span> <span class="o">&gt;</span> <span class="n">Y</span> <span class="o">-&gt;</span>
</span><span class='line'>      <span class="kp">true</span><span class="p">;</span>
</span><span class='line'>    <span class="kp">true</span> <span class="o">-&gt;</span>
</span><span class='line'>      <span class="kp">false</span>
</span><span class='line'>  <span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>




<p>
  <strong>Case Statement</strong>
</p>




<p>
  Syntax:
</p>




<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">case</span> <span class="no">Expression</span> <span class="n">of</span>
</span><span class='line'>  <span class="no">Value1</span> <span class="o">[</span><span class="k">when</span> <span class="no">Guard1</span><span class="o">]</span> <span class="o">-&gt;</span>
</span><span class='line'>    <span class="no">CaseBody1</span><span class="p">;</span>
</span><span class='line'>  <span class="no">Value2</span> <span class="o">[</span><span class="k">when</span> <span class="no">Guard2</span><span class="o">]-&gt;</span>
</span><span class='line'>    <span class="no">CaseBody2</span><span class="p">;</span>
</span><span class='line'>  <span class="n">_Other</span> <span class="o">-&gt;</span>
</span><span class='line'>    <span class="no">CaseBodyCatchAll</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>




<p>
  Notice that the last clause (_Other) is like the default clause in other programming languages. The Expression should always return a value (if it is a function call) that will be used to perform the pattern matching.
</p>




<p>
  Example:
</p>




<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">check</span><span class="p">(</span><span class="no">List</span><span class="p">)</span> <span class="k">when</span> <span class="n">is_list</span><span class="p">(</span><span class="no">List</span><span class="p">)</span> <span class="o">-&gt;</span>
</span><span class='line'>  <span class="k">case</span> <span class="ss">lists</span><span class="p">:</span><span class="n">reverse</span><span class="p">(</span><span class="no">List</span><span class="p">)</span> <span class="n">of</span>
</span><span class='line'>    <span class="no">List</span> <span class="o">-&gt;</span>
</span><span class='line'>      <span class="kp">true</span><span class="p">;</span>
</span><span class='line'>    <span class="n">_</span> <span class="o">-&gt;</span>
</span><span class='line'>      <span class="kp">false</span>
</span><span class='line'>    <span class="k">end</span><span class="p">;</span>
</span><span class='line'><span class="n">check</span><span class="p">(</span><span class="n">_</span><span class="p">)</span> <span class="o">-&gt;</span>
</span><span class='line'>    <span class="p">{</span><span class="n">error</span><span class="p">,</span> <span class="n">arg_not_list</span><span class="p">}</span><span class="o">.</span>
</span></code></pre></td></tr></table></div></figure>



</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/01/18/erlang-tail-recursion/">Erlang Tail Recursion</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2015-01-18T21:33:00+07:00" pubdate data-updated="true">Jan 18<span>th</span>, 2015</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>
  <img src="/images/logo_erlang.png" alt="Erlang Variables" />
</p>




<p>
  A function is called tail recursive when the recursive call to itself happens only in the last expression of the body in every clause.
</p>




<p>
  Syntax:
</p>




<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">non_tail_recursive</span><span class="p">(</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">)</span> <span class="o">-&gt;</span>
</span><span class='line'>  <span class="n">non_tail_recursive</span><span class="p">(</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">),</span>
</span><span class='line'>  <span class="n">other_expression</span><span class="p">,</span>
</span><span class='line'>  <span class="o">.</span><span class="n">.</span><span class="o">.</span> <span class="o">.</span>
</span><span class='line'><span class="n">tail_recursive</span><span class="p">(</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">)</span> <span class="o">-&gt;</span>
</span><span class='line'>  <span class="n">other_expression</span><span class="p">,</span>
</span><span class='line'>  <span class="o">.</span><span class="n">.</span><span class="o">.</span>
</span><span class='line'>  <span class="n">tail_recursive</span><span class="p">(</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">)</span><span class="o">.</span>
</span></code></pre></td></tr></table></div></figure>




<p>
  The first function is not the tail recursive as the recursive call is followed by other expression. While the second is, since the recursive call is the last statement.
</p>




<p>
  <strong>Tail Recursion & Performance</strong><br/>
  In many programming languages tails recursion is a good approach performance. But in general, it is not the case in the latest releases of Erlang. Tail recursion is not guaranteed to give you better performance.
</p>




<p>
  <strong>Tail Recursion VS Non Tail Recursion</strong><br/>
</p>




<p>
  Non Tail Recursive:
</p>




<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">length</span><span class="p">(</span><span class="o">[]</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="mi">0</span><span class="p">;</span>
</span><span class='line'><span class="n">length</span><span class="p">(</span><span class="o">[</span><span class="n">_</span> <span class="o">|</span> <span class="n">T</span><span class="o">]</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="mi">1</span> <span class="o">+</span> <span class="n">length</span><span class="p">(</span><span class="n">T</span><span class="p">)</span><span class="o">.</span>
</span></code></pre></td></tr></table></div></figure>




<p>
  Tail Recursive:
</p>




<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">length</span><span class="p">(</span><span class="no">List</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">length</span><span class="p">(</span><span class="no">List</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span><span class="o">.</span>
</span><span class='line'>
</span><span class='line'><span class="n">length</span><span class="p">(</span><span class="o">[]</span><span class="p">,</span> <span class="n">L</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">L</span><span class="p">;</span>
</span><span class='line'><span class="n">length</span><span class="p">(</span><span class="o">[</span><span class="n">_</span> <span class="o">|</span> <span class="n">T</span><span class="o">]</span><span class="p">,</span> <span class="n">L</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">length</span><span class="p">(</span><span class="n">T</span><span class="p">,</span> <span class="n">L</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span><span class="o">.</span>
</span></code></pre></td></tr></table></div></figure>



</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/01/18/erlang-recursion/">Erlang Recursion</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2015-01-18T11:28:00+07:00" pubdate data-updated="true">Jan 18<span>th</span>, 2015</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>
  <img src="/images/logo_erlang.png" alt="Erlang Variables" />
</p>




<p>
  The definition of the word <strong>Recursion</strong> is &#8220;(mathematics) an expression such that each term is generated by repeating a particular mathematical operation&#8221;. Recursion is one of the most powerful &#8220;tools&#8221; in a functional programming language.
</p>




<p>
  Recursion can be used to divide techniques to problem solving, where a problem is broken to smaller subproblems, the subproblems are solved, and the results are “merged” to generate the final result.
</p>




<p>
  Recursion happens when a function calls itself directly or indirectly. Recursion is used instead of the conventional loop statements of other programming languages, such as while and for in C.
</p>




<p>
  Syntax:
</p>




<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">functionA</span><span class="p">(</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">)</span> <span class="o">-&gt;</span>
</span><span class='line'>  <span class="no">Body_before_recursion</span><span class="p">,</span> <span class="sx">% optional</span>
</span><span class='line'><span class="sx"> </span> <span class="n">functionA</span><span class="p">(</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">),</span>
</span><span class='line'>  <span class="no">Body_after_recursion</span><span class="o">.</span> <span class="o">%</span> <span class="n">optional</span>
</span></code></pre></td></tr></table></div></figure>




<p>
  Example:
</p>




<figure class='code'><figcaption><span>example.erl </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="o">-</span><span class="n">module</span><span class="p">(</span><span class="n">example</span><span class="p">)</span><span class="o">.</span>
</span><span class='line'><span class="o">-</span><span class="n">export</span><span class="p">(</span><span class="o">[</span><span class="n">sum</span><span class="o">/</span><span class="mi">1</span><span class="o">]</span><span class="p">)</span><span class="o">.</span>
</span><span class='line'>
</span><span class='line'><span class="n">sum</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="mi">1</span><span class="p">;</span>
</span><span class='line'><span class="n">sum</span><span class="p">(</span><span class="n">N</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">N</span> <span class="o">+</span> <span class="n">sum_n</span><span class="p">(</span><span class="n">N</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span><span class="o">.</span>
</span><span class='line'>
</span><span class='line'><span class="o">%%</span> <span class="ss">example</span><span class="p">:</span><span class="n">sum</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="o">.</span>
</span></code></pre></td></tr></table></div></figure>




<figure class='code'><figcaption><span>example.erl </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="o">-</span><span class="n">module</span><span class="p">(</span><span class="n">example</span><span class="p">)</span><span class="o">.</span>
</span><span class='line'><span class="o">-</span><span class="n">export</span><span class="p">(</span><span class="o">[</span><span class="n">fac</span><span class="o">/</span><span class="mi">1</span><span class="o">]</span><span class="p">)</span><span class="o">.</span>
</span><span class='line'>
</span><span class='line'><span class="n">fac</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="mi">1</span><span class="p">;</span>
</span><span class='line'><span class="n">fac</span><span class="p">(</span><span class="n">N</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">N</span> <span class="o">*</span> <span class="n">fac</span><span class="p">(</span><span class="n">N</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span><span class="o">.</span>
</span><span class='line'>
</span><span class='line'><span class="o">%%</span> <span class="ss">example</span><span class="p">:</span><span class="n">fac</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="o">.</span>
</span></code></pre></td></tr></table></div></figure>




<figure class='code'><figcaption><span>example.erl </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="o">-</span><span class="n">module</span><span class="p">(</span><span class="n">example</span><span class="p">)</span><span class="o">.</span>
</span><span class='line'><span class="o">-</span><span class="n">export</span><span class="p">(</span><span class="o">[</span><span class="n">list_sum</span><span class="o">/</span><span class="mi">1</span><span class="o">]</span><span class="p">)</span><span class="o">.</span>
</span><span class='line'>
</span><span class='line'><span class="n">list_sum</span><span class="p">(</span><span class="o">[]</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="mi">0</span><span class="p">;</span>
</span><span class='line'><span class="n">list_sum</span><span class="p">(</span><span class="o">[</span><span class="n">H</span><span class="o">|</span><span class="n">T</span><span class="o">]</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">H</span> <span class="o">+</span> <span class="n">sum_list</span><span class="p">(</span><span class="n">T</span><span class="p">)</span><span class="o">.</span>
</span><span class='line'>
</span><span class='line'><span class="o">%</span><span class="sx">% example:list_sum([1, </span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="o">]</span><span class="p">)</span><span class="o">.</span>
</span></code></pre></td></tr></table></div></figure>




<figure class='code'><figcaption><span>example.erl </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="o">-</span><span class="n">module</span><span class="p">(</span><span class="n">example</span><span class="p">)</span><span class="o">.</span>
</span><span class='line'><span class="o">-</span><span class="n">export</span><span class="p">(</span><span class="o">[</span><span class="n">list_increase_element</span><span class="o">/</span><span class="mi">1</span><span class="o">]</span><span class="p">)</span><span class="o">.</span>
</span><span class='line'>
</span><span class='line'><span class="n">list_increase_element</span><span class="p">(</span><span class="o">[]</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="o">[]</span><span class="p">;</span>
</span><span class='line'><span class="n">list_increase_element</span><span class="p">(</span><span class="o">[</span><span class="n">H</span><span class="o">|</span><span class="n">T</span><span class="o">]</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="o">[</span><span class="n">H</span> <span class="o">+</span> <span class="mi">1</span><span class="o">|</span><span class="n">increase</span><span class="p">(</span><span class="n">T</span><span class="p">)</span><span class="o">].</span>
</span><span class='line'>
</span><span class='line'><span class="o">%</span><span class="sx">% example:list_increase_element([1, </span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="o">]</span><span class="p">)</span><span class="o">.</span>
</span></code></pre></td></tr></table></div></figure>




<figure class='code'><figcaption><span>example.erl </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="o">-</span><span class="n">module</span><span class="p">(</span><span class="n">example</span><span class="p">)</span><span class="o">.</span>
</span><span class='line'><span class="o">-</span><span class="n">export</span><span class="p">(</span><span class="o">[</span><span class="n">list_length</span><span class="o">/</span><span class="mi">1</span><span class="o">]</span><span class="p">)</span><span class="o">.</span>
</span><span class='line'>
</span><span class='line'><span class="n">list_length</span><span class="p">(</span><span class="o">[]</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="mi">0</span><span class="p">;</span>
</span><span class='line'><span class="n">list_length</span><span class="p">(</span><span class="o">[</span><span class="n">_H</span><span class="o">|</span><span class="n">T</span><span class="o">]</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="mi">1</span> <span class="o">+</span> <span class="n">list_length</span><span class="p">(</span><span class="n">T</span><span class="p">)</span><span class="o">.</span>
</span><span class='line'>
</span><span class='line'><span class="o">%</span><span class="sx">% example:list_length([1, </span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="o">]</span><span class="p">)</span><span class="o">.</span>
</span></code></pre></td></tr></table></div></figure>



</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/01/17/erlang-guards/">Erlang Guards</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2015-01-17T22:22:00+07:00" pubdate data-updated="true">Jan 17<span>th</span>, 2015</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>
  <img src="/images/logo_erlang.png" alt="Erlang Variables" />
</p>




<h3>Guard structures</h3>




<p>
  Guards in Erlang are boolean functions placed after the key word, &#8220;when&#8221; and before the arrow, &#8220;->&#8221;. Guards may appear as part of a function definition, &#8216;receive&#8217;, &#8216;if&#8217;, &#8216;case&#8217; and &#8216;try/catch&#8217; expressions.
</p>




<p>
  We use a guard in a function definition.
</p>




<p>
  Example:
</p>




<figure class='code'><figcaption><span>example.erl </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="o">-</span><span class="n">module</span><span class="p">(</span><span class="n">example</span><span class="p">)</span><span class="o">.</span>
</span><span class='line'><span class="o">-</span><span class="n">compile</span><span class="p">(</span><span class="n">export_all</span><span class="p">)</span><span class="o">.</span>
</span><span class='line'>
</span><span class='line'><span class="n">the_answer_is</span><span class="p">(</span><span class="n">N</span><span class="p">)</span> <span class="k">when</span> <span class="n">N</span> <span class="o">=</span><span class="p">:</span><span class="o">=</span> <span class="mi">42</span> <span class="o">-&gt;</span> <span class="kp">true</span><span class="p">;</span>
</span><span class='line'><span class="n">the_answer_is</span><span class="p">(</span><span class="n">N</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kp">false</span><span class="o">.</span>
</span><span class='line'>
</span><span class='line'><span class="sx">% c(example).</span>
</span><span class='line'><span class="sx">% </span><span class="n">ok</span>
</span><span class='line'><span class="o">%</span>
</span><span class='line'><span class="sx">% example:the_answer_is(42).</span>
</span><span class='line'><span class="sx">% </span><span class="kp">true</span>
</span><span class='line'><span class="o">%</span>
</span><span class='line'><span class="sx">% example:the_answer_is(21).</span>
</span><span class='line'><span class="sx">% </span><span class="kp">false</span>
</span></code></pre></td></tr></table></div></figure>




<p>
  <strong>fun definition</strong>
</p>




<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">F</span> <span class="o">=</span> <span class="n">fun</span>
</span><span class='line'>  <span class="p">(</span><span class="n">N</span><span class="p">)</span> <span class="k">when</span> <span class="n">N</span> <span class="o">=</span><span class="p">:</span><span class="o">=</span> <span class="mi">42</span> <span class="o">-&gt;</span> <span class="kp">true</span><span class="p">;</span>
</span><span class='line'>  <span class="p">(</span><span class="n">N</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kp">false</span>
</span><span class='line'><span class="k">end</span><span class="o">.</span>
</span></code></pre></td></tr></table></div></figure>




<p>
  <strong>receive expression</strong>
</p>




<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">receive</span>
</span><span class='line'>  <span class="p">{</span><span class="n">answer</span><span class="p">,</span> <span class="n">N</span><span class="p">}</span> <span class="k">when</span> <span class="n">N</span> <span class="o">=</span><span class="p">:</span><span class="o">=</span> <span class="mi">42</span> <span class="o">-&gt;</span> <span class="kp">true</span><span class="p">;</span>
</span><span class='line'>  <span class="p">{</span><span class="n">answer</span><span class="p">,</span> <span class="n">N</span><span class="p">}</span> <span class="o">-&gt;</span> <span class="kp">false</span>
</span><span class='line'><span class="k">end</span><span class="o">.</span>
</span></code></pre></td></tr></table></div></figure>




<p>
  <strong>if expression</strong>
</p>




<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">if</span>
</span><span class='line'>  <span class="n">N</span> <span class="o">=</span><span class="p">:</span><span class="o">=</span> <span class="mi">42</span> <span class="o">-&gt;</span> <span class="kp">true</span><span class="p">;</span>
</span><span class='line'>  <span class="kp">true</span> <span class="o">-&gt;</span> <span class="kp">false</span>
</span><span class='line'><span class="k">end</span><span class="o">.</span>
</span></code></pre></td></tr></table></div></figure>




<p>
  <strong>case expression</strong>
</p>




<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">case</span> <span class="n">L</span> <span class="n">of</span>
</span><span class='line'>  <span class="p">{</span><span class="n">answer</span><span class="p">,</span> <span class="n">N</span><span class="p">}</span> <span class="k">when</span> <span class="n">N</span> <span class="o">=</span><span class="p">:</span><span class="o">=</span> <span class="mi">42</span> <span class="o">-&gt;</span> <span class="kp">true</span><span class="p">;</span>
</span><span class='line'>  <span class="n">_</span> <span class="o">-&gt;</span> <span class="kp">false</span>
</span><span class='line'><span class="k">end</span><span class="o">.</span>
</span></code></pre></td></tr></table></div></figure>




<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">case</span> <span class="n">L</span> <span class="n">of</span>
</span><span class='line'>  <span class="p">{</span><span class="n">node</span><span class="p">,</span> <span class="n">N</span><span class="p">}</span> <span class="k">when</span> <span class="n">N</span> <span class="o">=</span><span class="p">:</span><span class="o">=</span> <span class="mi">42</span> <span class="o">-&gt;</span> <span class="kp">true</span><span class="p">;</span>
</span><span class='line'>  <span class="n">_AnyNode</span> <span class="o">-&gt;</span> <span class="kp">false</span>
</span><span class='line'><span class="k">end</span><span class="o">.</span>
</span></code></pre></td></tr></table></div></figure>




<p>
  <strong>try/catch</strong>
</p>




<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">try</span> <span class="n">find</span><span class="p">(</span><span class="n">L</span><span class="p">)</span> <span class="n">of</span>
</span><span class='line'>  <span class="p">{</span><span class="n">answer</span><span class="p">,</span> <span class="n">N</span><span class="p">}</span> <span class="k">when</span> <span class="n">N</span> <span class="o">=</span><span class="p">:</span><span class="o">=</span> <span class="mi">42</span> <span class="o">-&gt;</span> <span class="kp">true</span><span class="p">;</span>
</span><span class='line'>  <span class="n">_</span> <span class="o">-&gt;</span> <span class="kp">false</span>
</span><span class='line'><span class="kp">catch</span>
</span><span class='line'>  <span class="p">{</span><span class="n">notanumber</span><span class="p">,</span> <span class="n">R</span><span class="p">}</span> <span class="k">when</span> <span class="n">is_list</span><span class="p">(</span><span class="n">R</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">alist</span><span class="p">;</span>
</span><span class='line'>  <span class="p">{</span><span class="n">notanumber</span><span class="p">,</span> <span class="n">R</span><span class="p">}</span> <span class="k">when</span> <span class="n">is_float</span><span class="p">(</span><span class="n">R</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">afloat</span>
</span><span class='line'>  <span class="n">_</span> <span class="o">-&gt;</span> <span class="n">noidea</span>
</span><span class='line'><span class="k">end</span><span class="o">.</span>
</span></code></pre></td></tr></table></div></figure>




<p>
  <h3>Multiple Guards</h3>
  It is possible to use multiple guards within the same function definition or expression. When using multiple guards, a semicolon, &#8220;;&#8221;, signifies a boolean &#8220;OR&#8221;, while a comma, &#8220;,&#8221;, signifies boolean &#8220;AND&#8221;.
</p>




<p>
  Example:
</p>




<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">the_answer_is</span><span class="p">(</span><span class="n">N</span><span class="p">)</span> <span class="k">when</span> <span class="n">N</span> <span class="o">==</span> <span class="mi">42</span><span class="p">,</span> <span class="n">is_integer</span><span class="p">(</span><span class="n">N</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kp">true</span><span class="p">;</span>
</span><span class='line'><span class="n">geq_1_or_leq_2</span><span class="p">(</span><span class="n">N</span><span class="p">)</span> <span class="k">when</span> <span class="n">N</span> <span class="o">&gt;=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">N</span> <span class="o">=&lt;</span> <span class="mi">2</span> <span class="o">-&gt;</span> <span class="kp">true</span><span class="p">;</span>
</span></code></pre></td></tr></table></div></figure>




<p>
  <h3>Guard Functions</h3>
  There are several built-in-functions which be used in a guard.
</p>




<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">is_alive</span><span class="o">/</span><span class="mi">0</span>
</span><span class='line'><span class="n">is_boolean</span><span class="o">/</span><span class="mi">1</span>
</span><span class='line'><span class="n">is_builtin</span><span class="o">/</span><span class="mi">3</span>
</span><span class='line'><span class="n">is_constant</span><span class="o">/</span><span class="mi">1</span>
</span><span class='line'><span class="n">is_float</span><span class="o">/</span><span class="mi">1</span>
</span><span class='line'><span class="n">is_function</span><span class="o">/</span><span class="mi">2</span>
</span><span class='line'><span class="n">is_function</span><span class="o">/</span><span class="mi">1</span>
</span><span class='line'><span class="n">is_integer</span><span class="o">/</span><span class="mi">1</span>
</span><span class='line'><span class="n">is_list</span><span class="o">/</span><span class="mi">1</span>
</span><span class='line'><span class="n">is_number</span><span class="o">/</span><span class="mi">1</span>
</span><span class='line'><span class="n">is_pid</span><span class="o">/</span><span class="mi">1</span>
</span><span class='line'><span class="n">is_port</span><span class="o">/</span><span class="mi">1</span>
</span><span class='line'><span class="n">is_record</span><span class="o">/</span><span class="mi">3</span>
</span><span class='line'><span class="n">is_record</span><span class="o">/</span><span class="mi">2</span>
</span><span class='line'><span class="n">is_reference</span><span class="o">/</span><span class="mi">1</span>
</span><span class='line'><span class="n">is_tuple</span><span class="o">/</span><span class="mi">1</span>
</span><span class='line'>
</span><span class='line'><span class="n">tuple_size</span><span class="o">/</span><span class="mi">1</span>
</span><span class='line'><span class="n">is_binary</span><span class="o">/</span><span class="mi">1</span>
</span><span class='line'><span class="n">is_bitstring</span><span class="o">/</span><span class="mi">1</span>
</span><span class='line'><span class="n">bit_size</span><span class="o">/</span><span class="mi">1</span>
</span><span class='line'><span class="n">byte_size</span><span class="o">/</span><span class="mi">1</span>
</span><span class='line'><span class="n">length</span><span class="p">(</span><span class="n">Z</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">N</span>
</span></code></pre></td></tr></table></div></figure>




<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">A</span> <span class="o">&gt;</span> <span class="n">B</span>
</span><span class='line'><span class="n">A</span> <span class="o">&lt;</span> <span class="n">B</span>
</span><span class='line'><span class="n">A</span> <span class="o">==</span> <span class="n">B</span>
</span><span class='line'><span class="n">A</span> <span class="o">=&lt;</span> <span class="n">B</span>
</span><span class='line'><span class="n">A</span> <span class="o">&gt;=</span> <span class="n">B</span>
</span><span class='line'><span class="n">A</span> <span class="o">/=</span> <span class="n">B</span>
</span><span class='line'><span class="n">A</span> <span class="o">=</span><span class="p">:</span><span class="o">=</span> <span class="n">B</span>
</span><span class='line'><span class="n">A</span> <span class="o">=</span><span class="sr">/= B</span>
</span></code></pre></td></tr></table></div></figure>



</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/01/17/erlang-functions/">Erlang Functions</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2015-01-17T20:30:00+07:00" pubdate data-updated="true">Jan 17<span>th</span>, 2015</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>
  <img src="/images/logo_erlang.png" alt="Erlang Variables" />
</p>




<p>
  As you know by now, Erlang is a functional programming language. In my point of view, different programming has different problem solving philosophy:<br/>
  - Procedural: describe the steps needed to be taken to solve the problem.<br/>
  - Logical (Declarative): describe the problem properly and let the language solve it.<br/>
  - Object-orientation: design the objects that will lead you to the solution.<br/>
  - Functional: define small and precise functions that all together solve the problem.
</p>




<p>
  <strong>Declaring a Function</strong><br/>
</p>




<p>
  Syntax:
</p>




<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">function_name</span><span class="p">(</span><span class="no">Argument1</span><span class="p">,</span> <span class="no">Argument2</span><span class="p">,</span> <span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="p">)</span> <span class="o">-&gt;</span>
</span><span class='line'>  <span class="no">Statement1</span><span class="p">,</span>
</span><span class='line'>  <span class="no">Statement2</span><span class="p">,</span>
</span><span class='line'>  <span class="o">.</span><span class="n">.</span><span class="o">.</span>
</span></code></pre></td></tr></table></div></figure>




<p>
  Example:
</p>




<figure class='code'><figcaption><span>example.erl </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="o">-</span><span class="n">module</span><span class="p">(</span><span class="n">example</span><span class="p">)</span><span class="o">.</span>
</span><span class='line'><span class="o">-</span><span class="n">export</span><span class="p">(</span><span class="o">[</span><span class="n">double</span><span class="o">/</span><span class="mi">1</span><span class="o">]</span><span class="p">)</span><span class="o">.</span>
</span><span class='line'>
</span><span class='line'><span class="n">double</span><span class="p">(</span><span class="n">N</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">N</span><span class="o">.</span>
</span></code></pre></td></tr></table></div></figure>



</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/10/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/blog/page/8/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2015/06/03/my-development-stack/">My Development Stack</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/05/24/best-practices-for-agile-ruby-on-rails-development/">Best Practices for Agile Ruby on Rails Development</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/05/22/main-advantages-of-ruby-on-rails-usage/">Main Advantages of Ruby on Rails Usage</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/05/21/top-8-ruby-on-rails-websites/">Top 8 Ruby on Rails Websites</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/05/20/how-technology-company-make-money/">How Technology Company Make Money?</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/05/19/5-tips-to-scale-your-ruby-on-rails-application/">5 Tips to Scale Your Ruby on Rails Application</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/05/16/ip-geolocation-in-ruby-on-rails-application/">IP Geolocation in Ruby on Rails Application</a>
      </li>
    
  </ul>
</section>
<section>
  <h1>Category</h1>
  <ul id="recent_posts">
    
      <li>
        <a href="/blog/categories/facebook/">Facebook [ 4 ]</a>
      </li>
    
      <li>
        <a href="/blog/categories/ruby/">Ruby [ 93 ]</a>
      </li>
    
      <li>
        <a href="/blog/categories/heroku/">Heroku [ 2 ]</a>
      </li>
    
      <li>
        <a href="/blog/categories/ruby-on-rails/">Ruby on rails [ 86 ]</a>
      </li>
    
      <li>
        <a href="/blog/categories/testing/">Testing [ 5 ]</a>
      </li>
    
      <li>
        <a href="/blog/categories/layout/">Layout [ 3 ]</a>
      </li>
    
      <li>
        <a href="/blog/categories/ruby-metaprogramming/">Ruby metaprogramming [ 4 ]</a>
      </li>
    
      <li>
        <a href="/blog/categories/websocket/">Websocket [ 2 ]</a>
      </li>
    
      <li>
        <a href="/blog/categories/front-end-mvc-framework/">Front-end mvc framework [ 1 ]</a>
      </li>
    
      <li>
        <a href="/blog/categories/javascript/">Javascript [ 4 ]</a>
      </li>
    
      <li>
        <a href="/blog/categories/erlang/">Erlang [ 20 ]</a>
      </li>
    
      <li>
        <a href="/blog/categories/design-pattern/">Design pattern [ 1 ]</a>
      </li>
    
      <li>
        <a href="/blog/categories/other/">Other [ 22 ]</a>
      </li>
    
  </ul>
</section><section>
  <h1>Notes</h1>
  <ul id="recent_posts">
    <li>
      <a href="http://vimcommands.github.io/" target="_blank">Vim Commands</a>
    </li>
    <li>
      <a href="http://ruby-hacking-style-guide.github.io/" target="_blank">Ruby Hacking Style Guide</a>
    </li>
  </ul>
</section><section>
  <h1>References</h1>
  <ul id="recent_posts">
    <li>
      <a href="http://www.erlang.org/" target="_blank">
        <img src="/images/logo_erlang.png" />
      </a>
    </li>
    <li>
      <a href="http://www.chicagoboss.org/" target="_blank">
        <img src="/images/logo_chicagoboss.svg" />
      </a>
    </li>
    <li>
      <a href="https://www.ruby-lang.org/en/" target="_blank">
        <img src="/images/logo_ruby.png" />
      </a>
    </li>
    <li>
      <a href="http://guides.rubyonrails.org" target="_blank">
        <img src="/images/logo_rails_guides.png" />
      </a>
    </li>
    <li>
      <a href="http://railscasts.com" target="_blank">
        <img src="/images/logo_rails_casts.png" />
      </a>
    </li>
    <li>
      <a href="https://github.com" target="_blank">
        <img src="/images/logo_github.png" />
      </a>
    </li>
    <li>
      <a href="https://www.linode.com" target="_blank">
        <img src="/images/logo_linode.png" />
      </a>
    </li>
    <li>
      <a href="http://newrelic.com" target="_blank">
        <img src="/images/logo_newrelic.png" />
      </a>
    </li>
    <li>
      <a href="https://developers.facebook.com/" target="_blank">
        <img src="/images/logo_facebook.png" />
      </a>
    </li>
  </ul>
</section>




  
</aside>
    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2015 GeeKhmer in Phnom Penh, Cambodia.
</p>

</footer>
  



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id; js.async = true;
  js.src = "//connect.facebook.net/en_US/all.js#appId=1451301955117043&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>





  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
